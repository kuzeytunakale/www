<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Bean Reference &mdash; Heritrix 3  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="REST API" href="api.html" />
    <link rel="prev" title="Configuring Crawl Jobs" href="configuring-jobs.html" /> 
<script async type="text/javascript" src="../../_/static/javascript/readthedocs-addons.js"></script><meta name="readthedocs-project-slug" content="heritrix" /><meta name="readthedocs-version-slug" content="latest" /><meta name="readthedocs-resolver-filename" content="/bean-reference.html" /><meta name="readthedocs-http-status" content="200" /></head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Heritrix 3
          </a>
              <div class="version">
                3.12.1-SNAPSHOT
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting-started.html">Getting Started with Heritrix</a></li>
<li class="toctree-l1"><a class="reference internal" href="operating.html">Operating Heritrix</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuring-jobs.html">Configuring Crawl Jobs</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="bean-reference.html#">Bean Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="bean-reference.html#core-beans">Core Beans</a><ul>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#actiondirectory">ActionDirectory</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#bdbcookiestore">BdbCookieStore</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#bdbfrontier">BdbFrontier</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#bdbmodule">BdbModule</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#bdbservercache">BdbServerCache</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#bdburiuniqfilter">BdbUriUniqFilter</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#checkpointservice">CheckpointService</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#crawlcontroller">CrawlController</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#crawlerloggermodule">CrawlerLoggerModule</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#crawllimitenforcer">CrawlLimitEnforcer</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#crawlmetadata">CrawlMetadata</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#credentialstore">CredentialStore</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#deciderulesequence">DecideRuleSequence</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#diskspacemonitor">DiskSpaceMonitor</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#rulescanonicalizationpolicy">RulesCanonicalizationPolicy</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#sheetoverlaysmanager">SheetOverlaysManager</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#statisticstracker">StatisticsTracker</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#textseedmodule">TextSeedModule</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="bean-reference.html#decide-rules">Decide Rules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#acceptdeciderule">AcceptDecideRule</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#classkeymatchesregexdeciderule">ClassKeyMatchesRegexDecideRule</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#contentlengthdeciderule">ContentLengthDecideRule</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#contenttypematchesregexdeciderule">ContentTypeMatchesRegexDecideRule</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#contenttypenotmatchesregexdeciderule">ContentTypeNotMatchesRegexDecideRule</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#expressiondeciderule-contrib">ExpressionDecideRule (contrib)</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#externalgeolocationdeciderule">ExternalGeoLocationDecideRule</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#fetchstatusdeciderule">FetchStatusDecideRule</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#fetchstatusmatchesregexdeciderule">FetchStatusMatchesRegexDecideRule</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#fetchstatusnotmatchesregexdeciderule">FetchStatusNotMatchesRegexDecideRule</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#hasviadeciderule">HasViaDecideRule</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#hopcrossesassignmentleveldomaindeciderule">HopCrossesAssignmentLevelDomainDecideRule</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#hopspathmatchesregexdeciderule">HopsPathMatchesRegexDecideRule</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#identicaldigestdeciderule">IdenticalDigestDecideRule</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#ipaddresssetdeciderule">IpAddressSetDecideRule</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#matchesfilepatterndeciderule">MatchesFilePatternDecideRule</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#matcheslistregexdeciderule">MatchesListRegexDecideRule</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#matchesregexdeciderule">MatchesRegexDecideRule</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#matchesstatuscodedeciderule">MatchesStatusCodeDecideRule</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#notmatchesfilepatterndeciderule">NotMatchesFilePatternDecideRule</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#notmatcheslistregexdeciderule">NotMatchesListRegexDecideRule</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#notmatchesregexdeciderule">NotMatchesRegexDecideRule</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#notmatchesstatuscodedeciderule">NotMatchesStatusCodeDecideRule</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#notondomainsdeciderule">NotOnDomainsDecideRule</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#notonhostsdeciderule">NotOnHostsDecideRule</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#notsurtprefixeddeciderule">NotSurtPrefixedDecideRule</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#ondomainsdeciderule">OnDomainsDecideRule</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#onhostsdeciderule">OnHostsDecideRule</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#pathologicalpathdeciderule">PathologicalPathDecideRule</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#predicateddeciderule">PredicatedDecideRule</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#prerequisiteacceptdeciderule">PrerequisiteAcceptDecideRule</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#rejectdeciderule">RejectDecideRule</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#resourcelongerthandeciderule">ResourceLongerThanDecideRule</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#resourcenolongerthandeciderule">ResourceNoLongerThanDecideRule</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#responsecontentlengthdeciderule">ResponseContentLengthDecideRule</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#schemenotinsetdeciderule">SchemeNotInSetDecideRule</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#scripteddeciderule">ScriptedDecideRule</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#seedacceptdeciderule">SeedAcceptDecideRule</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#sourceseeddeciderule">SourceSeedDecideRule</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#surtprefixeddeciderule">SurtPrefixedDecideRule</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#toomanyhopsdeciderule">TooManyHopsDecideRule</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#toomanypathsegmentsdeciderule">TooManyPathSegmentsDecideRule</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#transclusiondeciderule">TransclusionDecideRule</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#viasurtprefixeddeciderule">ViaSurtPrefixedDecideRule</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="bean-reference.html#candidate-processors">Candidate Processors</a><ul>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#candidatescoper">CandidateScoper</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#frontierpreparer">FrontierPreparer</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="bean-reference.html#pre-fetch-processors">Pre-Fetch Processors</a><ul>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#preconditionenforcer">PreconditionEnforcer</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#preselector">Preselector</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="bean-reference.html#fetch-processors">Fetch Processors</a><ul>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#fetchdns">FetchDNS</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#fetchftp">FetchFTP</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#fetchhttp">FetchHTTP</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#fetchhttp2">FetchHTTP2</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#fetchsftp">FetchSFTP</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#fetchwhois">FetchWhois</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="bean-reference.html#link-extractors">Link Extractors</a><ul>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#extractorcss">ExtractorCSS</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#extractordoc">ExtractorDOC</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#extractorhtml">ExtractorHTML</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#aggressiveextractorhtml">AggressiveExtractorHTML</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#jerichoextractorhtml">JerichoExtractorHTML</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#extractorhtmlforms">ExtractorHTMLForms</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#extractorhttp">ExtractorHTTP</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#extractorimplieduri">ExtractorImpliedURI</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#extractorjs">ExtractorJS</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#knowledgableextractorjs-contrib">KnowledgableExtractorJS (contrib)</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#extractormultipleregex">ExtractorMultipleRegex</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#extractorpdf">ExtractorPDF</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#extractorpdfcontent-contrib">ExtractorPDFContent (contrib)</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#extractorrobotstxt">ExtractorRobotsTxt</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#extractorsitemap">ExtractorSitemap</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#extractorswf">ExtractorSWF</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#extractoruniversal">ExtractorUniversal</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#extractoruri">ExtractorURI</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#extractorxml">ExtractorXML</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#extractoryoutubedl-contrib">ExtractorYoutubeDL (contrib)</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#extractoryoutubeformatstream-contrib">ExtractorYoutubeFormatStream (contrib)</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#extractoryoutubechannelformatstream-contrib">ExtractorYoutubeChannelFormatStream (contrib)</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#trapsuppressextractor">TrapSuppressExtractor</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="bean-reference.html#browser-processor">Browser Processor</a><ul>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#browserprocessor">BrowserProcessor</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#extractlinksbehavior">ExtractLinksBehavior</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#scrolldownbehavior">ScrollDownBehavior</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="bean-reference.html#post-processors">Post-Processors</a><ul>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#candidatesprocessor">CandidatesProcessor</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#dispositionprocessor">DispositionProcessor</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#reschedulingprocessor">ReschedulingProcessor</a></li>
<li class="toctree-l3"><a class="reference internal" href="bean-reference.html#warcwriterchainprocessor">WARCWriterChainProcessor</a><ul>
<li class="toctree-l4"><a class="reference internal" href="bean-reference.html#dnsresponserecordbuilder">DnsResponseRecordBuilder</a></li>
<li class="toctree-l4"><a class="reference internal" href="bean-reference.html#ftpcontrolconversationrecordbuilder">FtpControlConversationRecordBuilder</a></li>
<li class="toctree-l4"><a class="reference internal" href="bean-reference.html#ftpresponserecordbuilder">FtpResponseRecordBuilder</a></li>
<li class="toctree-l4"><a class="reference internal" href="bean-reference.html#httprequestrecordbuilder">HttpRequestRecordBuilder</a></li>
<li class="toctree-l4"><a class="reference internal" href="bean-reference.html#httpresponserecordbuilder">HttpResponseRecordBuilder</a></li>
<li class="toctree-l4"><a class="reference internal" href="bean-reference.html#metadatarecordbuilder">MetadataRecordBuilder</a></li>
<li class="toctree-l4"><a class="reference internal" href="bean-reference.html#revisitrecordbuilder">RevisitRecordBuilder</a></li>
<li class="toctree-l4"><a class="reference internal" href="bean-reference.html#whoisresponserecordbuilder">WhoisResponseRecordBuilder</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api.html">REST API</a></li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Heritrix 3</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Bean Reference</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/bean-reference.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="bean-reference">
<h1>Bean Reference<a class="headerlink" href="bean-reference.html#bean-reference" title="Permalink to this heading"></a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This reference is a work in progress and does not yet cover all available beans. For a more complete list of
Heritrix beans please refer to the <a class="reference external" href="https://www.javadoc.io/doc/org.archive.heritrix/heritrix-modules">javadoc</a>.</p>
</div>
<section id="core-beans">
<h2>Core Beans<a class="headerlink" href="bean-reference.html#core-beans" title="Permalink to this heading"></a></h2>
<section id="actiondirectory">
<h3>ActionDirectory<a class="headerlink" href="bean-reference.html#actiondirectory" title="Permalink to this heading"></a></h3>
<p><span><span>Directory watched for new files. Depending on their extension, will</span><span></span><span>process with regard to current crawl, and rename with a datestamp </span><span></span><span>into the ‘done’ directory. </span><p><span>Currently supports:</span><span></span><span> - .seeds(.gz)</span><span></span><span>     add each URI found in file as a new seed (to be crawled</span><span></span><span>     if not already; to affect scope if appropriate).</span><span></span><span> - (.s).recover(.gz)</span><span></span><span>     treat as traditional recovery log: consider all ‘Fs’-tagged lines </span><span></span><span>     included, then try-rescheduling all ‘F+’-tagged lines. (If “.s.” </span><span></span><span>     present, try scoping URIs before including/scheduling.)</span><span></span><span> - (.s).include(.gz) </span><span></span><span>     add each URI found in a recover-log like file (regardless of its</span><span></span><span>     tagging) to the frontier’s alreadyIncluded filter, preventing them</span><span></span><span>     from being recrawled. (‘.s.’ indicates to apply scoping.)</span><span></span><span> - (.s).schedule(.gz)</span><span></span><span>     add each URI found in a recover-log like file (regardless of its</span><span></span><span>     tagging) to the frontier’s queues. (‘.s.’ indicates to apply </span><span></span><span>     scoping.)</span><span></span><span>     </span><span></span><span>Future support planned:</span><span></span><span> - .robots: invalidate robots ASAP</span><span></span><span> - (?) .block: block-all on named site(s)</span><span></span><span> -  .overlay: add new overlay settings</span><span></span><span> - .js .rb .bsh .rb etc - execute arbitrary script (a la ScriptedProcessor)</span></p>
</span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;actionDirectory&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.crawler.framework.ActionDirectory&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;actionDir&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;applicationContext&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;delaySeconds&quot; value=&quot;30&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;doneDir&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;frontier&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;initialDelaySeconds&quot; value=&quot;10&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;seeds&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>actionDir</dt><dd><strong>(org.archive.spring.ConfigPath) </strong><span></span></dd>
<dt>applicationContext</dt><dd><strong>(org.springframework.context.ApplicationContext) </strong><span></span></dd>
<dt>delaySeconds</dt><dd><strong>(int) </strong><span><span>delay between scans of actionDirectory for new files</span></span></dd>
<dt>doneDir</dt><dd><strong>(org.archive.spring.ConfigPath) </strong><span></span></dd>
<dt>frontier</dt><dd><strong>(org.archive.crawler.framework.Frontier) </strong><span><span>autowired frontier for actions</span></span></dd>
<dt>initialDelaySeconds</dt><dd><strong>(int) </strong><span><span>how long after crawl start to first scan action directory</span></span></dd>
<dt>seeds</dt><dd><strong>(org.archive.modules.seeds.SeedModule) </strong><span></span></dd>
</dl>
</section>
<section id="bdbcookiestore">
<h3>BdbCookieStore<a class="headerlink" href="bean-reference.html#bdbcookiestore" title="Permalink to this heading"></a></h3>
<p><span><span>Cookie store using bdb for storage. Cookies are stored in a SortedMap keyed</span><span></span><span>by #sortableKey(Cookie), so they are grouped together by domain.</span><span></span><span>#cookieStoreFor(String) returns a facade whose</span><span></span><span>CookieStore#getCookies() returns a list of cookies limited to</span><span></span><span>the supplied host and parent domains, if applicable.</span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;bdbCookieStore&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.fetcher.BdbCookieStore&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;bdbModule&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;cookiesLoadFile&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;cookiesSaveFile&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;recoveryCheckpoint&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>bdbModule</dt><dd><strong>(org.archive.bdb.BdbModule) </strong><span></span></dd>
<dt>cookiesLoadFile</dt><dd><strong>(org.archive.spring.ConfigFile) </strong><span></span></dd>
<dt>cookiesSaveFile</dt><dd><strong>(org.archive.spring.ConfigPath) </strong><span></span></dd>
<dt>recoveryCheckpoint</dt><dd><strong>(org.archive.checkpointing.Checkpoint) </strong><span></span></dd>
</dl>
</section>
<section id="bdbfrontier">
<h3>BdbFrontier<a class="headerlink" href="bean-reference.html#bdbfrontier" title="Permalink to this heading"></a></h3>
<p><span><span>A Frontier using several BerkeleyDB JE Databases to hold its record of</span><span></span><span>known hosts (queues), and pending URIs.</span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;bdbFrontier&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.crawler.frontier.BdbFrontier&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;applicationContext&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;balanceReplenishAmount&quot; value=&quot;3000&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;bdbModule&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;crawlController&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;dumpPendingAtClose&quot; value=&quot;false&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;errorPenaltyAmount&quot; value=&quot;100&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;extract404s&quot; value=&quot;true&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;extractIndependently&quot; value=&quot;false&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;frontierPreparer&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;largestQueuesCount&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;loggerModule&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;maxOutlinks&quot; value=&quot;6000&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;maxQueuesPerReportCategory&quot; value=&quot;2000&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;maxRetries&quot; value=&quot;30&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;precedenceFloor&quot; value=&quot;255&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;queuePrecedencePolicy&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;queueTotalBudget&quot; value=&quot;-1&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;recoveryCheckpoint&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;recoveryLogEnabled&quot; value=&quot;true&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;retryDelaySeconds&quot; value=&quot;900&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;scope&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;seeds&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;serverCache&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;sheetOverlaysManager&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;snoozeLongMs&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;uriUniqFilter&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>applicationContext</dt><dd><strong>(org.springframework.context.ApplicationContext) </strong><span></span></dd>
<dt>balanceReplenishAmount</dt><dd><strong>(int) </strong><span><span>amount to replenish budget on each activation (duty cycle)</span></span></dd>
<dt>bdbModule</dt><dd><strong>(org.archive.bdb.BdbModule) </strong><span></span></dd>
<dt>crawlController</dt><dd><strong>(org.archive.crawler.framework.CrawlController) </strong><span></span></dd>
<dt>dumpPendingAtClose</dt><dd><strong>(boolean) </strong><span></span></dd>
<dt>errorPenaltyAmount</dt><dd><strong>(int) </strong><span><span>budget penalty for an error fetch</span></span></dd>
<dt>extract404s</dt><dd><strong>(boolean) </strong><span></span></dd>
<dt>extractIndependently</dt><dd><strong>(boolean) </strong><span></span></dd>
<dt>frontierPreparer</dt><dd><strong>(org.archive.crawler.prefetch.FrontierPreparer) </strong><span></span></dd>
<dt>largestQueuesCount</dt><dd><strong>(int) </strong><span></span></dd>
<dt>loggerModule</dt><dd><strong>(org.archive.crawler.reporting.CrawlerLoggerModule) </strong><span></span></dd>
<dt>maxOutlinks</dt><dd><strong>(int) </strong><span></span></dd>
<dt>maxQueuesPerReportCategory</dt><dd><strong>(int) </strong><span><span>truncate reporting of queues at this large but not unbounded number</span></span></dd>
<dt>maxRetries</dt><dd><strong>(int) </strong><span><span>maximum times to emit a CrawlURI without final disposition</span></span></dd>
<dt>precedenceFloor</dt><dd><strong>(int) </strong><span><span>precedence rank at or below which queues are not crawled</span></span></dd>
<dt>queuePrecedencePolicy</dt><dd><strong>(org.archive.crawler.frontier.precedence.QueuePrecedencePolicy) </strong><span><span>queue precedence assignment policy to use.</span></span></dd>
<dt>queueTotalBudget</dt><dd><strong>(long) </strong><span><span>total expenditure to allow a queue before ‘retiring’ it</span></span></dd>
<dt>recoveryCheckpoint</dt><dd><strong>(org.archive.checkpointing.Checkpoint) </strong><span></span></dd>
<dt>recoveryLogEnabled</dt><dd><strong>(boolean) </strong><span><span>Recover log on or off attribute.</span></span></dd>
<dt>retryDelaySeconds</dt><dd><strong>(int) </strong><span><span>for retryable problems, seconds to wait before a retry</span></span></dd>
<dt>scope</dt><dd><strong>(org.archive.modules.deciderules.DecideRule) </strong><span></span></dd>
<dt>seeds</dt><dd><strong>(org.archive.modules.seeds.SeedModule) </strong><span></span></dd>
<dt>serverCache</dt><dd><strong>(org.archive.modules.net.ServerCache) </strong><span></span></dd>
<dt>sheetOverlaysManager</dt><dd><strong>(org.archive.crawler.spring.SheetOverlaysManager) </strong><span></span></dd>
<dt>snoozeLongMs</dt><dd><strong>(long) </strong><span><span>When a snooze target for a queue is longer than this amount, the queue</span><span></span><span>will be “long snoozed” instead of “short snoozed”.  A “long snoozed”</span><span></span><span>queue may be swapped to disk because it’s not needed soon.</span></span></dd>
<dt>uriUniqFilter</dt><dd><strong>(org.archive.crawler.datamodel.UriUniqFilter) </strong><span><span>The UriUniqFilter to use, tracking those UURIs which are </span><span></span><span>already in-process (or processed), and thus should not be </span><span></span><span>rescheduled. Also known as the ‘alreadyIncluded’ or</span><span></span><span>’alreadySeen’ structure</span></span></dd>
</dl>
</section>
<section id="bdbmodule">
<h3>BdbModule<a class="headerlink" href="bean-reference.html#bdbmodule" title="Permalink to this heading"></a></h3>
<p><span><span>Utility module for managing a shared BerkeleyDB-JE environment</span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;bdbModule&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.bdb.BdbModule&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;cachePercent&quot; value=&quot;-1&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;cacheSize&quot; value=&quot;-1&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;cleanerThreads&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;dir&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;evictorCoreThreads&quot; value=&quot;-1&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;evictorMaxThreads&quot; value=&quot;-1&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;expectedConcurrency&quot; value=&quot;64&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;maxLogFileSize&quot; value=&quot;10000000&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;recoveryCheckpoint&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;useHardLinkCheckpoints&quot; value=&quot;true&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;useSharedCache&quot; value=&quot;true&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>cachePercent</dt><dd><strong>(int) </strong><span></span></dd>
<dt>cacheSize</dt><dd><strong>(int) </strong><span></span></dd>
<dt>cleanerThreads</dt><dd><strong>(int) </strong><span></span></dd>
<dt>dir</dt><dd><strong>(org.archive.spring.ConfigPath) </strong><span></span></dd>
<dt>evictorCoreThreads</dt><dd><strong>(int) </strong><span><span>Configure the number of evictor threads (-1 means use the default)</span><span></span><span>https://docs.oracle.com/cd/E17277_02/html/java/com/sleepycat/je/EnvironmentConfig.html#EVICTOR_CORE_THREADS</span></span></dd>
<dt>evictorMaxThreads</dt><dd><strong>(int) </strong><span><span>Configure the maximum number of evictor threads (-1 means use the default)</span><span></span><span>https://docs.oracle.com/cd/E17277_02/html/java/com/sleepycat/je/EnvironmentConfig.html#EVICTOR_MAX_THREADS</span></span></dd>
<dt>expectedConcurrency</dt><dd><strong>(int) </strong><span><span>Expected number of concurrent threads; used to tune nLockTables</span><span></span><span>according to JE FAQ</span><span></span><span>http://www.oracle.com/technology/products/berkeley-db/faq/je_faq.html#33</span></span></dd>
<dt>maxLogFileSize</dt><dd><strong>(long) </strong><span></span></dd>
<dt>recoveryCheckpoint</dt><dd><strong>(org.archive.checkpointing.Checkpoint) </strong><span></span></dd>
<dt>useHardLinkCheckpoints</dt><dd><strong>(boolean) </strong><span><span>Whether to use hard-links to log files to collect/retain</span><span></span><span>the BDB log files needed for a checkpoint. Default is true. </span><span></span><span>May not work on Windows (especially on pre-NTFS filesystems). </span><span></span><span>If false, the BDB ‘je.cleaner.expunge’ value will be set to </span><span></span><span>‘false’, as well, meaning BDB will *not* delete obsolete JDB</span><span></span><span>files, but only rename the ‘.DEL’. They will have to be </span><span></span><span>manually deleted to free disk space, but .DEL files referenced</span><span></span><span>in any checkpoint’s ‘jdbfiles.manifest’ should be retained to</span><span></span><span>keep the checkpoint valid.</span></span></dd>
<dt>useSharedCache</dt><dd><strong>(boolean) </strong><span></span></dd>
</dl>
</section>
<section id="bdbservercache">
<h3>BdbServerCache<a class="headerlink" href="bean-reference.html#bdbservercache" title="Permalink to this heading"></a></h3>
<p><span><span>ServerCache backed by BDB big maps; the usual choice for crawls.</span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;bdbServerCache&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.net.BdbServerCache&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;bdbModule&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;recoveryCheckpoint&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>bdbModule</dt><dd><strong>(org.archive.bdb.BdbModule) </strong><span></span></dd>
<dt>recoveryCheckpoint</dt><dd><strong>(org.archive.checkpointing.Checkpoint) </strong><span></span></dd>
</dl>
</section>
<section id="bdburiuniqfilter">
<h3>BdbUriUniqFilter<a class="headerlink" href="bean-reference.html#bdburiuniqfilter" title="Permalink to this heading"></a></h3>
<p><span><span>A BDB implementation of an AlreadySeen list.</span><p><span>This implementation performs adequately without blowing out </span><span></span><span>the heap. See</span><span></span><span><span>AlreadySeen</span></span><span>.</span><p><span>Makes keys that have URIs from same server close to each other.  Mercator</span><span></span><span>and 2.3.5 ‘Elminating Already-Visited URLs’ in ‘Mining the Web’ by Soumen</span><span></span><span>Chakrabarti talk of a two-level key with the first 24 bits a hash of the</span><span></span><span>host plus port and with the last 40 as a hash of the path.  Testing</span><span></span><span>showed adoption of such a scheme halving lookup times (Tutilhis implementation</span><span></span><span>actually concatenates scheme + host in first 24 bits and path + query in</span><span></span><span>trailing 40 bits).</span></p>
</p>
</span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;bdbUriUniqFilter&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.crawler.util.BdbUriUniqFilter&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;bdbModule&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;destination&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;profileLog&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;recoveryCheckpoint&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>bdbModule</dt><dd><strong>(org.archive.bdb.BdbModule) </strong><span></span></dd>
<dt>destination</dt><dd><strong>(org.archive.crawler.datamodel.UriUniqFilter.CrawlUriReceiver) </strong><span></span></dd>
<dt>profileLog</dt><dd><strong>(java.io.File) </strong><span></span></dd>
<dt>recoveryCheckpoint</dt><dd><strong>(org.archive.checkpointing.Checkpoint) </strong><span></span></dd>
</dl>
</section>
<section id="checkpointservice">
<h3>CheckpointService<a class="headerlink" href="bean-reference.html#checkpointservice" title="Permalink to this heading"></a></h3>
<p><span><span>Executes checkpoints, and offers convenience methods for enumerating </span><span></span><span>available Checkpoints and injecting a recovery-Checkpoint after </span><span></span><span>build and before launch (setRecoveryCheckpointByName).</span><p><span>Offers optional automatic checkpointing at a configurable interval </span><span></span><span>in minutes.</span></p>
</span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;checkpointService&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.crawler.framework.CheckpointService&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;applicationContext&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;checkpointIntervalMinutes&quot; value=&quot;-1&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;checkpointOnShutdown&quot; value=&quot;false&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;checkpointsDir&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;crawlController&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;forgetAllButLatest&quot; value=&quot;false&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;recoveryCheckpoint&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;recoveryCheckpointByName&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>applicationContext</dt><dd><strong>(org.springframework.context.ApplicationContext) </strong><span></span></dd>
<dt>checkpointIntervalMinutes</dt><dd><strong>(long) </strong><span><span>Period at which to create automatic checkpoints; -1 means</span><span></span><span>no auto checkpointing.</span></span></dd>
<dt>checkpointOnShutdown</dt><dd><strong>(boolean) </strong><span><span>Whether a checkpoint should be made when the JVM is shutdown.</span><span></span><span>Default is false.</span></span></dd>
<dt>checkpointsDir</dt><dd><strong>(org.archive.spring.ConfigPath) </strong><span><span>Checkpoints directory</span></span></dd>
<dt>crawlController</dt><dd><strong>(org.archive.crawler.framework.CrawlController) </strong><span></span></dd>
<dt>forgetAllButLatest</dt><dd><strong>(boolean) </strong><span><span>True to save only the latest checkpoint, false to save all of them.</span><span></span><span>Default is false.</span></span></dd>
<dt>recoveryCheckpoint</dt><dd><strong>(org.archive.checkpointing.Checkpoint) </strong><span></span></dd>
<dt>recoveryCheckpointByName</dt><dd><strong>(java.lang.String) </strong><span><span>Given the name of a valid checkpoint subdirectory in the checkpoints</span><span></span><span>directory, create a Checkpoint instance, and insert it into all </span><span></span><span>Checkpointable beans. </span><p><span>&#64;param selectedCheckpoint</span></p>
</span></dd>
</dl>
</section>
<section id="crawlcontroller">
<h3>CrawlController<a class="headerlink" href="bean-reference.html#crawlcontroller" title="Permalink to this heading"></a></h3>
<p><span><span>CrawlController collects all the classes which cooperate to</span><span></span><span>perform a crawl and provides a high-level interface to the</span><span></span><span>running crawl.</span><p><span>As the “global context” for a crawl, subcomponents will</span><span></span><span>often reach each other through the CrawlController.</span></p>
</span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;crawlController&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.crawler.framework.CrawlController&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;applicationContext&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;candidateChain&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;dispositionChain&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;fetchChain&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;frontier&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;loggerModule&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;maxToeThreads&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;metadata&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;pauseAtStart&quot; value=&quot;true&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;recorderInBufferBytes&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;recorderOutBufferBytes&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;recoveryCheckpoint&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;runWhileEmpty&quot; value=&quot;false&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;scratchDir&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;seeds&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;serverCache&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;statisticsTracker&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>applicationContext</dt><dd><strong>(org.springframework.context.ApplicationContext) </strong><span></span></dd>
<dt>candidateChain</dt><dd><strong>(org.archive.modules.CandidateChain) </strong><span><span>Candidate chain</span></span></dd>
<dt>dispositionChain</dt><dd><strong>(org.archive.modules.DispositionChain) </strong><span><span>Disposition chain</span></span></dd>
<dt>fetchChain</dt><dd><strong>(org.archive.modules.FetchChain) </strong><span><span>Fetch chain</span></span></dd>
<dt>frontier</dt><dd><strong>(org.archive.crawler.framework.Frontier) </strong><span><span>The frontier to use for the crawl.</span></span></dd>
<dt>loggerModule</dt><dd><strong>(org.archive.crawler.reporting.CrawlerLoggerModule) </strong><span></span></dd>
<dt>maxToeThreads</dt><dd><strong>(int) </strong><span><span>Maximum number of threads processing URIs at the same time.</span></span></dd>
<dt>metadata</dt><dd><strong>(org.archive.modules.CrawlMetadata) </strong><span></span></dd>
<dt>pauseAtStart</dt><dd><strong>(boolean) </strong><span><span>whether to pause at crawl start</span></span></dd>
<dt>recorderInBufferBytes</dt><dd><strong>(int) </strong><span><span>Size in bytes of in-memory buffer to record inbound traffic. One such </span><span></span><span>buffer is reserved for every ToeThread.</span></span></dd>
<dt>recorderOutBufferBytes</dt><dd><strong>(int) </strong><span><span>Size in bytes of in-memory buffer to record outbound traffic. One such </span><span></span><span>buffer is reserved for every ToeThread.</span></span></dd>
<dt>recoveryCheckpoint</dt><dd><strong>(org.archive.checkpointing.Checkpoint) </strong><span></span></dd>
<dt>runWhileEmpty</dt><dd><strong>(boolean) </strong><span><span>whether to keep running (without pause or finish) when frontier is empty</span></span></dd>
<dt>scratchDir</dt><dd><strong>(org.archive.spring.ConfigPath) </strong><span><span>Scratch directory for temporary overflow-to-disk</span></span></dd>
<dt>seeds</dt><dd><strong>(org.archive.modules.seeds.SeedModule) </strong><span></span></dd>
<dt>serverCache</dt><dd><strong>(org.archive.modules.net.ServerCache) </strong><span></span></dd>
<dt>statisticsTracker</dt><dd><strong>(org.archive.crawler.reporting.StatisticsTracker) </strong><span><span>Statistics tracking modules.  Any number of specialized statistics </span><span></span><span>trackers that monitor a crawl and write logs, reports and/or provide </span><span></span><span>information to the user interface.</span></span></dd>
</dl>
</section>
<section id="crawlerloggermodule">
<h3>CrawlerLoggerModule<a class="headerlink" href="bean-reference.html#crawlerloggermodule" title="Permalink to this heading"></a></h3>
<p><span><span>Module providing all expected whole-crawl logging facilities</span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;crawlerLoggerModule&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.crawler.reporting.CrawlerLoggerModule&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;alertsLogPath&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;crawlLogPath&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;logExtraInfo&quot; value=&quot;false&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;nonfatalErrorsLogPath&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;path&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;progressLogPath&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;recoveryCheckpoint&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;runtimeErrorsLogPath&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;upSimpleLog&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;uriErrorsLogPath&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>alertsLogPath</dt><dd><strong>(org.archive.spring.ConfigPath) </strong><span></span></dd>
<dt>crawlLogPath</dt><dd><strong>(org.archive.spring.ConfigPath) </strong><span></span></dd>
<dt>logExtraInfo</dt><dd><strong>(boolean) </strong><span><span>Whether to include the “extra info” field for each entry in crawl.log.</span><span></span><span>”Extra info” is arbitrary JSON. It is the last field of the log line.</span></span></dd>
<dt>nonfatalErrorsLogPath</dt><dd><strong>(org.archive.spring.ConfigPath) </strong><span></span></dd>
<dt>path</dt><dd><strong>(org.archive.spring.ConfigPath) </strong><span></span></dd>
<dt>progressLogPath</dt><dd><strong>(org.archive.spring.ConfigPath) </strong><span></span></dd>
<dt>recoveryCheckpoint</dt><dd><strong>(org.archive.checkpointing.Checkpoint) </strong><span></span></dd>
<dt>runtimeErrorsLogPath</dt><dd><strong>(org.archive.spring.ConfigPath) </strong><span></span></dd>
<dt>upSimpleLog</dt><dd><strong>(java.lang.String) </strong><span></span></dd>
<dt>uriErrorsLogPath</dt><dd><strong>(org.archive.spring.ConfigPath) </strong><span></span></dd>
</dl>
</section>
<section id="crawllimitenforcer">
<h3>CrawlLimitEnforcer<a class="headerlink" href="bean-reference.html#crawllimitenforcer" title="Permalink to this heading"></a></h3>
<p><span><span>Bean to enforce limits on the size of a crawl in URI count,</span><span></span><span>byte count, or elapsed time. Fires off the StatSnapshotEvent,</span><span></span><span>so only checks at the interval (configured in StatisticsTracker)</span><span></span><span>of those events.</span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;crawlLimitEnforcer&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.crawler.framework.CrawlLimitEnforcer&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;crawlController&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;maxBytesDownload&quot; value=&quot;0&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;maxDocumentsDownload&quot; value=&quot;0&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;maxNovelBytes&quot; value=&quot;0&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;maxNovelUrls&quot; value=&quot;0&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;maxTimeSeconds&quot; value=&quot;0&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;maxWarcNovelBytes&quot; value=&quot;0&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;maxWarcNovelUrls&quot; value=&quot;0&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>crawlController</dt><dd><strong>(org.archive.crawler.framework.CrawlController) </strong><span></span></dd>
<dt>maxBytesDownload</dt><dd><strong>(long) </strong><span><span>Maximum number of bytes to download. Once this number is exceeded </span><span></span><span>the crawler will stop. A value of zero means no upper limit.</span></span></dd>
<dt>maxDocumentsDownload</dt><dd><strong>(long) </strong><span><span>Maximum number of documents to download. Once this number is exceeded the </span><span></span><span>crawler will stop. A value of zero means no upper limit.</span></span></dd>
<dt>maxNovelBytes</dt><dd><strong>(long) </strong><span><span>Maximum number of uncompressed payload bytes to write to WARC response or</span><span></span><span>resource records. Once this number is exceeded the crawler will stop. A</span><span></span><span>value of zero means no upper limit.</span></span></dd>
<dt>maxNovelUrls</dt><dd><strong>(long) </strong><span><span>Maximum number of novel (not deduplicated) urls to download. Once this</span><span></span><span>number is exceeded the crawler will stop. A value of zero means no upper</span><span></span><span>limit.</span></span></dd>
<dt>maxTimeSeconds</dt><dd><strong>(long) </strong><span><span>Maximum amount of time to crawl (in seconds). Once this much time has </span><span></span><span>elapsed the crawler will stop. A value of zero means no upper limit.</span></span></dd>
<dt>maxWarcNovelBytes</dt><dd><strong>(long) </strong><span><span>Maximum number of novel (not deduplicated) bytes to write to WARC</span><span></span><span>response or resource records. Once this number is exceeded the crawler</span><span></span><span>will stop. A value of zero means no upper limit.</span></span></dd>
<dt>maxWarcNovelUrls</dt><dd><strong>(long) </strong><span><span>Maximum number of urls to write to WARC response or resource records.</span><span></span><span>Once this number is exceeded the crawler will stop. A value of zero means</span><span></span><span>no upper limit.</span></span></dd>
</dl>
</section>
<section id="crawlmetadata">
<h3>CrawlMetadata<a class="headerlink" href="bean-reference.html#crawlmetadata" title="Permalink to this heading"></a></h3>
<p><span><span>Basic crawl metadata, as consulted by functional modules and</span><span></span><span>recorded in ARCs/WARCs.</span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;crawlMetadata&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.CrawlMetadata&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;audience&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;availableRobotsPolicies&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;description&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;jobName&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;operator&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;operatorContactUrl&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;operatorFrom&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;organization&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;robotsPolicyName&quot; value=&quot;obey&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;userAgentTemplate&quot; value=&quot;Mozilla/5.0 (compatible; heritrix/@VERSION@ +@OPERATOR_CONTACT_URL@)&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>audience</dt><dd><strong>(java.lang.String) </strong><span></span></dd>
<dt>availableRobotsPolicies</dt><dd><strong>(java.util.Map&lt;java.lang.String,org.archive.modules.net.RobotsPolicy&gt;) </strong><span><span>Map of all available RobotsPolicies, by name, to choose from. </span><span></span><span>assembled from declared instances in configuration plus the standard</span><span></span><span>’obey’ (aka ‘classic’) and ‘ignore’ policies.</span></span></dd>
<dt>description</dt><dd><strong>(java.lang.String) </strong><span></span></dd>
<dt>jobName</dt><dd><strong>(java.lang.String) </strong><span></span></dd>
<dt>operator</dt><dd><strong>(java.lang.String) </strong><span></span></dd>
<dt>operatorContactUrl</dt><dd><strong>(java.lang.String) </strong><span></span></dd>
<dt>operatorFrom</dt><dd><strong>(java.lang.String) </strong><span></span></dd>
<dt>organization</dt><dd><strong>(java.lang.String) </strong><span></span></dd>
<dt>robotsPolicyName</dt><dd><strong>(java.lang.String) </strong><span><span>Robots policy name</span></span></dd>
<dt>userAgentTemplate</dt><dd><strong>(java.lang.String) </strong><span></span></dd>
</dl>
</section>
<section id="credentialstore">
<h3>CredentialStore<a class="headerlink" href="bean-reference.html#credentialstore" title="Permalink to this heading"></a></h3>
<p><span><span>Front door to the credential store.</span><p><span>Come here to get at credentials.</span><p><span>See </span><span><span>href=”http://crawler.archive.org/proposals/auth/#credentialstoredesign”&gt;Credential</span><span></span><span>Store Design</span><span>.</span></span></p>
</p>
</span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;credentialStore&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.credential.CredentialStore&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;credentials&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>credentials</dt><dd><strong>(java.util.Map&lt;java.lang.String,org.archive.modules.credential.Credential&gt;) </strong><span><span>Credentials used by heritrix authenticating. See</span><span></span><span>http://crawler.archive.org/proposals/auth/ for background.</span></span></dd>
</dl>
</section>
<section id="deciderulesequence">
<h3>DecideRuleSequence<a class="headerlink" href="bean-reference.html#deciderulesequence" title="Permalink to this heading"></a></h3>
<p><span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;decideRuleSequence&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.deciderules.DecideRuleSequence&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;logExtraInfo&quot; value=&quot;false&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;logToFile&quot; value=&quot;false&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;loggerModule&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;rules&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;serverCache&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>logExtraInfo</dt><dd><strong>(boolean) </strong><span><span>Whether to include the “extra info” field for each entry in crawl.log.</span><span></span><span>”Extra info” is a json object with entries “host”, “via”, “source” and</span><span></span><span>”hopPath”.</span></span></dd>
<dt>logToFile</dt><dd><strong>(boolean) </strong><span><span>If enabled, log decisions to file named logs/{spring-bean-id}.log. Format</span><span></span><span>is: [timestamp] [decisive-rule-num] [decisive-rule-class] [decision]</span><span></span><span>[uri] [extraInfo]</span><p><span>Relies on Spring Lifecycle to initialize the log. Only top-level</span><span></span><span>beans get the Lifecycle treatment from Spring, so bean must be top-level</span><span></span><span>for logToFile to work. (This is true of other modules that support</span><span></span><span>logToFile, and anything else that uses Lifecycle, as well.)</span></p>
</span></dd>
<dt>loggerModule</dt><dd><strong>(org.archive.modules.SimpleFileLoggerProvider) </strong><span></span></dd>
<dt>rules</dt><dd><strong>(java.util.List&lt;org.archive.modules.deciderules.DecideRule&gt;) </strong><span></span></dd>
<dt>serverCache</dt><dd><strong>(org.archive.modules.net.ServerCache) </strong><span></span></dd>
</dl>
</section>
<section id="diskspacemonitor">
<h3>DiskSpaceMonitor<a class="headerlink" href="bean-reference.html#diskspacemonitor" title="Permalink to this heading"></a></h3>
<p><span><span>Monitors the available space on the paths configured. If the available space</span><span></span><span>drops below a specified threshold a crawl pause is requested.</span><span></span><p><span></span><span>Monitoring is done via the </span><code class="docutils literal notranslate"><span><span class="pre">java.io.File.getUsableSpace()</span></span></code><span> method.</span><span></span><span>This method will sometimes fail on network attached storage, returning 0</span><span></span><span>bytes available even if that is not actually the case. </span><span></span><p><span></span><span>Paths that do not resolve to actual filesystem folders or files will not be</span><span></span><span>evaluated (i.e. if </span><code class="docutils literal notranslate"><span><span class="pre">java.io.File.exists()</span></span></code><span> returns </span><code class="docutils literal notranslate"><span><span class="pre">false</span></span></code><span></span><span>no further processing is carried out on that File). </span><span></span><p><span></span><span>Paths are checked available space whenever a StatSnapshotEvent occurs.</span></p>
</p>
</p>
</span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;diskSpaceMonitor&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.crawler.monitor.DiskSpaceMonitor&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;configPathConfigurer&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;crawlController&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;monitorConfigPaths&quot; value=&quot;true&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;monitorPaths&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;pauseThresholdMiB&quot; value=&quot;8192&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>configPathConfigurer</dt><dd><strong>(org.archive.spring.ConfigPathConfigurer) </strong><span><span>Autowire access to ConfigPathConfigurer</span></span></dd>
<dt>crawlController</dt><dd><strong>(org.archive.crawler.framework.CrawlController) </strong><span><span>Autowire access to CrawlController</span></span></dd>
<dt>monitorConfigPaths</dt><dd><strong>(boolean) </strong><span><span>If enabled, all the paths returned by ConfigPathConfigurer#getAllConfigPaths()</span><span></span><span>will be monitored in addition to any paths explicitly specified via</span><span></span><span>#setMonitorPaths(List).</span><span></span><p><span></span><code class="docutils literal notranslate"><span><span class="pre">true</span></span></code><span> by default.</span><span></span><p><span></span><span><span>Note:</span></span><span> This is not guaranteed to contain all paths that Heritrix writes to.</span><span></span><span>It is the responsibility of modules that write to disk to register their activity</span><span></span><span>with the ConfigPathConfigurer and some may not do so.</span><p><span>&#64;param monitorConfigPaths If config paths should be monitored for usable space.</span></p>
</p>
</p>
</span></dd>
<dt>monitorPaths</dt><dd><strong>(java.util.List&lt;java.lang.String&gt;) </strong><span><span>&#64;param monitorPaths List of filesystem paths that should be monitored for available space.</span></span></dd>
<dt>pauseThresholdMiB</dt><dd><strong>(long) </strong><span><span>Set the minimum amount of space that must be available on all monitored paths.</span><span></span><span>If the amount falls below this pause threshold on any path the crawl will be paused.</span><span></span><span> </span><span></span><span>&#64;param pauseThresholdMiB The desired pause threshold value. </span><span></span><span>                         Specified in megabytes (MiB).</span></span></dd>
</dl>
</section>
<section id="rulescanonicalizationpolicy">
<h3>RulesCanonicalizationPolicy<a class="headerlink" href="bean-reference.html#rulescanonicalizationpolicy" title="Permalink to this heading"></a></h3>
<p><span><span>URI Canonicalizatioon Policy</span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;rulesCanonicalizationPolicy&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.canonicalize.RulesCanonicalizationPolicy&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;rules&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>rules</dt><dd><strong>(java.util.List&lt;org.archive.modules.canonicalize.CanonicalizationRule&gt;) </strong><span></span></dd>
</dl>
</section>
<section id="sheetoverlaysmanager">
<h3>SheetOverlaysManager<a class="headerlink" href="bean-reference.html#sheetoverlaysmanager" title="Permalink to this heading"></a></h3>
<p><span><span>Manager which marks-up CrawlURIs with the names of all applicable </span><span></span><span>Sheets, and returns overlay maps by name.</span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;sheetOverlaysManager&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.crawler.spring.SheetOverlaysManager&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;beanFactory&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;sheetsByName&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>beanFactory</dt><dd><strong>(org.springframework.beans.factory.BeanFactory) </strong><span></span></dd>
<dt>sheetsByName</dt><dd><strong>(java.util.Map&lt;java.lang.String,org.archive.spring.Sheet&gt;) </strong><span><span>Collect all Sheets, by beanName. </span><span></span><span>&#64;param map</span></span></dd>
</dl>
</section>
<section id="statisticstracker">
<h3>StatisticsTracker<a class="headerlink" href="bean-reference.html#statisticstracker" title="Permalink to this heading"></a></h3>
<p><span><span>This is an implementation of the AbstractTracker. It is designed to function</span><span></span><span>with the WUI as well as performing various logging activity.</span><span></span><p><span></span><span>At the end of each snapshot a line is written to the</span><span></span><span>’progress-statistics.log’ file.</span><span></span><p><span></span><span>The header of that file is as follows:</span><span></span><div class="highlight-text notranslate"><div class="highlight"><pre><span></span> [timestamp] [discovered]    [queued] [downloaded] [doc/s(avg)]  [KB/s(avg)] [dl-failures] [busy-thread] [mem-use-KB]
</pre></div>
</div>
<span></span><span>First there is a </span><strong><span>timestamp</span></strong><span>, accurate down to 1 second.</span><span></span><p><span></span><strong><span>discovered</span></strong><span>, </span><strong><span>queued</span></strong><span>, </span><strong><span>downloaded</span></strong><span> and </span><strong><span>dl-failures</span></strong><span></span><span>are (respectively) the discovered URI count, pending URI count, successfully</span><span></span><span>fetched count and failed fetch count from the frontier at the time of the</span><span></span><span>snapshot.</span><span></span><p><span></span><strong><span>KB/s(avg)</span></strong><span> is the bandwidth usage.  We use the total bytes downloaded</span><span></span><span>to calculate average bandwidth usage (KB/sec). Since we also note the value</span><span></span><span>each time a snapshot is made we can calculate the average bandwidth usage</span><span></span><span>during the last snapshot period to gain a “current” rate. The first number is</span><span></span><span>the current and the average is in parenthesis.</span><span></span><p><span></span><strong><span>doc/s(avg)</span></strong><span> works the same way as doc/s except it show the number of</span><span></span><span>documents (URIs) rather then KB downloaded.</span><span></span><p><span></span><strong><span>busy-threads</span></strong><span> is the total number of ToeThreads that are not available</span><span></span><span>(and thus presumably busy processing a URI). This information is extracted</span><span></span><span>from the crawl controller.</span><span></span><p><span></span><span>Finally mem-use-KB is extracted from the run time environment</span><span></span><span>(</span><code class="docutils literal notranslate"><span><span class="pre">Runtime.getRuntime().totalMemory()</span></span></code><span>).</span><span></span><p><span></span><span>In addition to the data collected for the above logs, various other data</span><span></span><span>is gathered and stored by this tracker.</span><span></span><span><span></span><span>  </span><span><span> Successfully downloaded documents per fetch status code</span><span></span><span>  </span><span><span> Successfully downloaded documents per document mime type</span><span></span><span>  </span><span><span> Amount of data per mime type</span><span></span><span>  </span><span><span> Successfully downloaded documents per host</span><span></span><span>  </span><span><span> Amount of data per host</span><span></span><span>  </span><span><span> Disposition of all seeds (this is written to ‘reports.log’ at end of</span><span></span><span>       crawl)</span><span></span><span>  </span><span><span> Successfully downloaded documents per host per source</span><span></span></span></span></span></span></span></span></span></span></p>
</p>
</p>
</p>
</p>
</p>
</p>
</p>
</span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;statisticsTracker&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.crawler.reporting.StatisticsTracker&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;applicationContext&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;bdbModule&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;crawlController&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;intervalSeconds&quot; value=&quot;20&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;keepSnapshotsCount&quot; value=&quot;5&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;liveHostReportSize&quot; value=&quot;20&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;recoveryCheckpoint&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;reports&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;reportsDir&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;seeds&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;serverCache&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;trackSeeds&quot; value=&quot;true&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;trackSources&quot; value=&quot;true&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>applicationContext</dt><dd><strong>(org.springframework.context.ApplicationContext) </strong><span></span></dd>
<dt>bdbModule</dt><dd><strong>(org.archive.bdb.BdbModule) </strong><span></span></dd>
<dt>crawlController</dt><dd><strong>(org.archive.crawler.framework.CrawlController) </strong><span></span></dd>
<dt>intervalSeconds</dt><dd><strong>(int) </strong><span><span>The interval between writing progress information to log.</span></span></dd>
<dt>keepSnapshotsCount</dt><dd><strong>(int) </strong><span><span>Number of crawl-stat sample snapshots to keep for calculation </span><span></span><span>purposes.</span></span></dd>
<dt>liveHostReportSize</dt><dd><strong>(int) </strong><span></span></dd>
<dt>recoveryCheckpoint</dt><dd><strong>(org.archive.checkpointing.Checkpoint) </strong><span></span></dd>
<dt>reports</dt><dd><strong>(java.util.List&lt;org.archive.crawler.reporting.Report&gt;) </strong><span></span></dd>
<dt>reportsDir</dt><dd><strong>(org.archive.spring.ConfigPath) </strong><span></span></dd>
<dt>seeds</dt><dd><strong>(org.archive.modules.seeds.SeedModule) </strong><span></span></dd>
<dt>serverCache</dt><dd><strong>(org.archive.modules.net.ServerCache) </strong><span></span></dd>
<dt>trackSeeds</dt><dd><strong>(boolean) </strong><span><span>Whether to maintain seed disposition records (expensive in </span><span></span><span>crawls with millions of seeds)</span></span></dd>
<dt>trackSources</dt><dd><strong>(boolean) </strong><span><span>Whether to maintain hosts-per-source-tag records for; very expensive in </span><span></span><span>crawls with large numbers of source-tags (seeds) or large crawls </span><span></span><span>over many hosts</span></span></dd>
</dl>
</section>
<section id="textseedmodule">
<h3>TextSeedModule<a class="headerlink" href="bean-reference.html#textseedmodule" title="Permalink to this heading"></a></h3>
<p><span><span>Module that announces a list of seeds from a text source (such</span><span></span><span>as a ConfigFile or ConfigString), and provides a mechanism for</span><span></span><span>adding seeds after a crawl has begun.</span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;textSeedModule&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.seeds.TextSeedModule&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;blockAwaitingSeedLines&quot; value=&quot;-1&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;seedListeners&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;sourceTagSeeds&quot; value=&quot;false&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;textSource&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>blockAwaitingSeedLines</dt><dd><strong>(int) </strong><span><span>Number of lines of seeds-source to read on initial load before proceeding</span><span></span><span>with crawl. Default is -1, meaning all. Any other value will cause that</span><span></span><span>number of lines to be loaded before fetching begins, while all extra</span><span></span><span>lines continue to be processed in the background. Generally, this should</span><span></span><span>only be changed when working with very large seed lists, and scopes that</span><span></span><span>do *not* depend on reading all seeds.</span></span></dd>
<dt>seedListeners</dt><dd><strong>(java.util.Set&lt;org.archive.modules.seeds.SeedListener&gt;) </strong><span></span></dd>
<dt>sourceTagSeeds</dt><dd><strong>(boolean) </strong><span><span>Whether to tag seeds with their own URI as a heritable ‘source’ String,</span><span></span><span>which will be carried-forward to all URIs discovered on paths originating</span><span></span><span>from that seed. When present, such source tags appear in the</span><span></span><span>second-to-last crawl.log field.</span></span></dd>
<dt>textSource</dt><dd><strong>(org.archive.io.ReadSource) </strong><span><span>Text from which to extract seeds</span></span></dd>
</dl>
</section>
</section>
<section id="decide-rules">
<h2>Decide Rules<a class="headerlink" href="bean-reference.html#decide-rules" title="Permalink to this heading"></a></h2>
<section id="acceptdeciderule">
<h3>AcceptDecideRule<a class="headerlink" href="bean-reference.html#acceptdeciderule" title="Permalink to this heading"></a></h3>
<p><span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;acceptDecideRule&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.deciderules.AcceptDecideRule&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl class="simple">
</dl>
</section>
<section id="classkeymatchesregexdeciderule">
<h3>ClassKeyMatchesRegexDecideRule<a class="headerlink" href="bean-reference.html#classkeymatchesregexdeciderule" title="Permalink to this heading"></a></h3>
<p><span><span>Rule applies configured decision to any CrawlURI class key – i.e.</span><span></span><span>CrawlURI#getClassKey() – matches matches supplied regex.</span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;classKeyMatchesRegexDecideRule&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.crawler.deciderules.ClassKeyMatchesRegexDecideRule&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;crawlController&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;decision&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;regex&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>crawlController</dt><dd><strong>(org.archive.crawler.framework.CrawlController) </strong><span></span></dd>
<dt>decision</dt><dd><strong>(org.archive.modules.deciderules.DecideResult) </strong><span></span></dd>
<dt>regex</dt><dd><strong>(java.util.regex.Pattern) </strong><span></span></dd>
</dl>
</section>
<section id="contentlengthdeciderule">
<h3>ContentLengthDecideRule<a class="headerlink" href="bean-reference.html#contentlengthdeciderule" title="Permalink to this heading"></a></h3>
<p><span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;contentLengthDecideRule&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.deciderules.ContentLengthDecideRule&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;contentLengthThreshold&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>contentLengthThreshold</dt><dd><strong>(long) </strong><span><span>Content-length threshold.  The rule returns ACCEPT if the content-length</span><span></span><span>is less than this threshold, or REJECT otherwise.  The default is</span><span></span><span>2^63, meaning any document will be accepted.</span></span></dd>
</dl>
</section>
<section id="contenttypematchesregexdeciderule">
<h3>ContentTypeMatchesRegexDecideRule<a class="headerlink" href="bean-reference.html#contenttypematchesregexdeciderule" title="Permalink to this heading"></a></h3>
<p><span><span>DecideRule whose decision is applied if the URI’s content-type </span><span></span><span>is present and matches the supplied regular expression.</span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;contentTypeMatchesRegexDecideRule&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.deciderules.ContentTypeMatchesRegexDecideRule&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;decision&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;regex&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>decision</dt><dd><strong>(org.archive.modules.deciderules.DecideResult) </strong><span></span></dd>
<dt>regex</dt><dd><strong>(java.util.regex.Pattern) </strong><span></span></dd>
</dl>
</section>
<section id="contenttypenotmatchesregexdeciderule">
<h3>ContentTypeNotMatchesRegexDecideRule<a class="headerlink" href="bean-reference.html#contenttypenotmatchesregexdeciderule" title="Permalink to this heading"></a></h3>
<p><span><span>DecideRule whose decision is applied if the URI’s content-type </span><span></span><span>is present and does not match the supplied regular expression.</span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;contentTypeNotMatchesRegexDecideRule&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.deciderules.ContentTypeNotMatchesRegexDecideRule&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;decision&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;regex&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>decision</dt><dd><strong>(org.archive.modules.deciderules.DecideResult) </strong><span></span></dd>
<dt>regex</dt><dd><strong>(java.util.regex.Pattern) </strong><span></span></dd>
</dl>
</section>
<section id="expressiondeciderule-contrib">
<h3>ExpressionDecideRule (contrib)<a class="headerlink" href="bean-reference.html#expressiondeciderule-contrib" title="Permalink to this heading"></a></h3>
<p><span><span>Example usage:</span><span></span><div class="highlight-text notranslate"><div class="highlight"><pre><span></span> &lt;bean class=&quot;org.archive.modules.deciderules.ExpressionDecideRule&quot;&gt;    &lt;property name=&quot;groovyExpression&quot; value=&#39;curi.via == null &amp;amp;&amp;amp; curi ==~ &quot;^https?://(?:www\\.)?(facebook|vimeo|flickr)\\.com/.*&quot;&#39;/&gt;&lt;/bean&gt;
</pre></div>
</div>
</span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;expressionDecideRule&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.deciderules.ExpressionDecideRule&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;decision&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;groovyExpression&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>decision</dt><dd><strong>(org.archive.modules.deciderules.DecideResult) </strong><span></span></dd>
<dt>groovyExpression</dt><dd><strong>(java.lang.String) </strong><span></span></dd>
</dl>
</section>
<section id="externalgeolocationdeciderule">
<h3>ExternalGeoLocationDecideRule<a class="headerlink" href="bean-reference.html#externalgeolocationdeciderule" title="Permalink to this heading"></a></h3>
<p><span><span>A rule that can be configured to take alternate implementations</span><span></span><span>of the ExternalGeoLocationInterface.</span><span></span><span>If no implementation specified, or none found, returns configured decision.</span><span></span><span>If host in URI has been resolved checks CrawlHost for the country code</span><span></span><span>determination.</span><span></span><span>If country code is not present, does country lookup, and saves the country</span><span></span><span>code to </span><code class="docutils literal notranslate"><span><span class="pre">CrawlHost</span></span></code><span> for future consultation.</span><span></span><span>If country code is present in </span><code class="docutils literal notranslate"><span><span class="pre">CrawlHost</span></span></code><span>, compares it against</span><span></span><span>the configured code.</span><span></span><span>Note that if a host’s IP address changes during the crawl, we still consider</span><span></span><span>the associated hostname to be in the country of its original IP address.</span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;externalGeoLocationDecideRule&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.deciderules.ExternalGeoLocationDecideRule&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;countryCodes&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;decision&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;lookup&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;serverCache&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>countryCodes</dt><dd><strong>(java.util.List&lt;java.lang.String&gt;) </strong><span><span>Country code name.</span></span></dd>
<dt>decision</dt><dd><strong>(org.archive.modules.deciderules.DecideResult) </strong><span></span></dd>
<dt>lookup</dt><dd><strong>(org.archive.modules.deciderules.ExternalGeoLookupInterface) </strong><span></span></dd>
<dt>serverCache</dt><dd><strong>(org.archive.modules.net.ServerCache) </strong><span></span></dd>
</dl>
</section>
<section id="fetchstatusdeciderule">
<h3>FetchStatusDecideRule<a class="headerlink" href="bean-reference.html#fetchstatusdeciderule" title="Permalink to this heading"></a></h3>
<p><span><span>Rule applies the configured decision for any URI which has a</span><span></span><span>fetch status equal to the ‘target-status’ setting.</span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;fetchStatusDecideRule&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.deciderules.FetchStatusDecideRule&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;decision&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;statusCodes&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>decision</dt><dd><strong>(org.archive.modules.deciderules.DecideResult) </strong><span></span></dd>
<dt>statusCodes</dt><dd><strong>(java.util.List&lt;java.lang.Integer&gt;) </strong><span></span></dd>
</dl>
</section>
<section id="fetchstatusmatchesregexdeciderule">
<h3>FetchStatusMatchesRegexDecideRule<a class="headerlink" href="bean-reference.html#fetchstatusmatchesregexdeciderule" title="Permalink to this heading"></a></h3>
<p><span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;fetchStatusMatchesRegexDecideRule&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.deciderules.FetchStatusMatchesRegexDecideRule&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;decision&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;regex&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>decision</dt><dd><strong>(org.archive.modules.deciderules.DecideResult) </strong><span></span></dd>
<dt>regex</dt><dd><strong>(java.util.regex.Pattern) </strong><span></span></dd>
</dl>
</section>
<section id="fetchstatusnotmatchesregexdeciderule">
<h3>FetchStatusNotMatchesRegexDecideRule<a class="headerlink" href="bean-reference.html#fetchstatusnotmatchesregexdeciderule" title="Permalink to this heading"></a></h3>
<p><span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;fetchStatusNotMatchesRegexDecideRule&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.deciderules.FetchStatusNotMatchesRegexDecideRule&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;decision&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;regex&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>decision</dt><dd><strong>(org.archive.modules.deciderules.DecideResult) </strong><span></span></dd>
<dt>regex</dt><dd><strong>(java.util.regex.Pattern) </strong><span></span></dd>
</dl>
</section>
<section id="hasviadeciderule">
<h3>HasViaDecideRule<a class="headerlink" href="bean-reference.html#hasviadeciderule" title="Permalink to this heading"></a></h3>
<p><span><span>Rule applies the configured decision for any URI which has a ‘via’ </span><span></span><span>(essentially, any URI that was a seed or some kinds of mid-crawl adds).</span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;hasViaDecideRule&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.deciderules.HasViaDecideRule&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;decision&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>decision</dt><dd><strong>(org.archive.modules.deciderules.DecideResult) </strong><span></span></dd>
</dl>
</section>
<section id="hopcrossesassignmentleveldomaindeciderule">
<h3>HopCrossesAssignmentLevelDomainDecideRule<a class="headerlink" href="bean-reference.html#hopcrossesassignmentleveldomaindeciderule" title="Permalink to this heading"></a></h3>
<p><span><span>Applies its decision if the current URI differs in that portion of</span><span></span><span>its hostname/domain that is assigned/sold by registrars, its</span><span></span><span>’assignment-level-domain’ (ALD) (AKA ‘public suffix’ or in previous </span><span></span><span>Heritrix versions, ‘topmost assigned SURT’)</span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;hopCrossesAssignmentLevelDomainDecideRule&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.deciderules.HopCrossesAssignmentLevelDomainDecideRule&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;decision&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>decision</dt><dd><strong>(org.archive.modules.deciderules.DecideResult) </strong><span></span></dd>
</dl>
</section>
<section id="hopspathmatchesregexdeciderule">
<h3>HopsPathMatchesRegexDecideRule<a class="headerlink" href="bean-reference.html#hopspathmatchesregexdeciderule" title="Permalink to this heading"></a></h3>
<p><span><span>Rule applies configured decision to any CrawlURIs whose ‘hops-path’</span><span></span><span>(string like “LLXE” etc.) matches the supplied regex.</span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;hopsPathMatchesRegexDecideRule&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.deciderules.HopsPathMatchesRegexDecideRule&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;decision&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;regex&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>decision</dt><dd><strong>(org.archive.modules.deciderules.DecideResult) </strong><span></span></dd>
<dt>regex</dt><dd><strong>(java.util.regex.Pattern) </strong><span></span></dd>
</dl>
</section>
<section id="identicaldigestdeciderule">
<h3>IdenticalDigestDecideRule<a class="headerlink" href="bean-reference.html#identicaldigestdeciderule" title="Permalink to this heading"></a></h3>
<p><span><span>Rule applies configured decision to any CrawlURIs whose revisit profile is set with a profile matching</span><span></span><span>WARCConstants#PROFILE_REVISIT_IDENTICAL_DIGEST</span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;identicalDigestDecideRule&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.deciderules.recrawl.IdenticalDigestDecideRule&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;decision&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>decision</dt><dd><strong>(org.archive.modules.deciderules.DecideResult) </strong><span></span></dd>
</dl>
</section>
<section id="ipaddresssetdeciderule">
<h3>IpAddressSetDecideRule<a class="headerlink" href="bean-reference.html#ipaddresssetdeciderule" title="Permalink to this heading"></a></h3>
<p><span><span>IpAddressSetDecideRule must be used with</span><span></span><span>org.archive.crawler.prefetch.Preselector#setRecheckScope(boolean) set</span><span></span><span>to true because it relies on Heritrix’ dns lookup to establish the ip address</span><span></span><span>for a URI before it can run.</span><p><div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&lt;bean class=&quot;org.archive.modules.deciderules.IpAddressSetDecideRule&quot;&gt; &lt;property name=&quot;ipAddresses&quot;&gt;  &lt;set&gt;   &lt;value&gt;127.0.0.1&lt;/value&gt;   &lt;value&gt;69.89.27.209&lt;/value&gt;  &lt;/set&gt; &lt;/property&gt; &lt;property name=&#39;decision&#39; value=&#39;REJECT&#39; /&gt;&lt;/bean&gt;
</pre></div>
</div>
</p>
</span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;ipAddressSetDecideRule&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.deciderules.IpAddressSetDecideRule&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;decision&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;ipAddresses&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;serverCache&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>decision</dt><dd><strong>(org.archive.modules.deciderules.DecideResult) </strong><span></span></dd>
<dt>ipAddresses</dt><dd><strong>(java.util.Set&lt;java.lang.String&gt;) </strong><span><span>&#64;param ipAddresses the addresses to match</span></span></dd>
<dt>serverCache</dt><dd><strong>(org.archive.modules.net.ServerCache) </strong><span></span></dd>
</dl>
</section>
<section id="matchesfilepatterndeciderule">
<h3>MatchesFilePatternDecideRule<a class="headerlink" href="bean-reference.html#matchesfilepatterndeciderule" title="Permalink to this heading"></a></h3>
<p><span><span>Compares suffix of a passed CrawlURI, UURI, or String against a regular</span><span></span><span>expression pattern, applying its configured decision to all matches.</span><p><span>Several predefined patterns are available for convenience. Choosing</span><span></span><span>’custom’ makes this the same as a regular MatchesRegexDecideRule.</span></p>
</span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;matchesFilePatternDecideRule&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.deciderules.MatchesFilePatternDecideRule&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;decision&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;regex&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;usePreset&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>decision</dt><dd><strong>(org.archive.modules.deciderules.DecideResult) </strong><span></span></dd>
<dt>regex</dt><dd><strong>(java.util.regex.Pattern) </strong><span></span></dd>
<dt>usePreset</dt><dd><strong>(org.archive.modules.deciderules.MatchesFilePatternDecideRule.Preset) </strong><span></span></dd>
</dl>
</section>
<section id="matcheslistregexdeciderule">
<h3>MatchesListRegexDecideRule<a class="headerlink" href="bean-reference.html#matcheslistregexdeciderule" title="Permalink to this heading"></a></h3>
<p><span><span>Rule applies configured decision to any CrawlURIs whose String URI</span><span></span><span>matches the supplied regexs.</span><span></span><p><span></span><span>The list of regular expressions can be considered logically AND or OR.</span></p>
</span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;matchesListRegexDecideRule&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.deciderules.MatchesListRegexDecideRule&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;decision&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;listLogicalOr&quot; value=&quot;true&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;regexList&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;timeoutPerRegexSeconds&quot; value=&quot;0&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>decision</dt><dd><strong>(org.archive.modules.deciderules.DecideResult) </strong><span></span></dd>
<dt>listLogicalOr</dt><dd><strong>(boolean) </strong><span><span>True if the list of regular expression should be considered as logically</span><span></span><span>AND when matching. False if the list of regular expressions should be</span><span></span><span>considered as logically OR when matching.</span></span></dd>
<dt>regexList</dt><dd><strong>(java.util.List&lt;java.util.regex.Pattern&gt;) </strong><span><span>The list of regular expressions to evalute against the URI.</span></span></dd>
<dt>timeoutPerRegexSeconds</dt><dd><strong>(long) </strong><span><span>The timeout for regular expression matching, in seconds. If set to 0 or negative then no timeout is specified and</span><span></span><span>there is no upper limit to how long the matching may take. See the corresponding test class MatchesListRegexDecideRuleTest</span><span></span><span>for a pathological example.</span></span></dd>
</dl>
</section>
<section id="matchesregexdeciderule">
<h3>MatchesRegexDecideRule<a class="headerlink" href="bean-reference.html#matchesregexdeciderule" title="Permalink to this heading"></a></h3>
<p><span><span>Rule applies configured decision to any CrawlURIs whose String URI</span><span></span><span>matches the supplied regex.</span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;matchesRegexDecideRule&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.deciderules.MatchesRegexDecideRule&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;decision&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;regex&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>decision</dt><dd><strong>(org.archive.modules.deciderules.DecideResult) </strong><span></span></dd>
<dt>regex</dt><dd><strong>(java.util.regex.Pattern) </strong><span></span></dd>
</dl>
</section>
<section id="matchesstatuscodedeciderule">
<h3>MatchesStatusCodeDecideRule<a class="headerlink" href="bean-reference.html#matchesstatuscodedeciderule" title="Permalink to this heading"></a></h3>
<p><span><span>Provides a rule that returns “true” for any CrawlURIs which have a fetch</span><span></span><span>status code that falls within the provided inclusive range. For instance, to</span><span></span><span>select only URIs with a “success” status code you must provide the range 200</span><span></span><span>to 299.</span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;matchesStatusCodeDecideRule&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.deciderules.MatchesStatusCodeDecideRule&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;decision&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;lowerBound&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;upperBound&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>decision</dt><dd><strong>(org.archive.modules.deciderules.DecideResult) </strong><span></span></dd>
<dt>lowerBound</dt><dd><strong>(java.lang.Integer) </strong><span><span>Sets the lower bound on the range of acceptable status codes.</span><p><span>&#64;param statusCode Status code</span></p>
</span></dd>
<dt>upperBound</dt><dd><strong>(java.lang.Integer) </strong><span><span>Sets the upper bound on the range of acceptable status codes.</span><p><span>&#64;param statusCode Status code</span></p>
</span></dd>
</dl>
</section>
<section id="notmatchesfilepatterndeciderule">
<h3>NotMatchesFilePatternDecideRule<a class="headerlink" href="bean-reference.html#notmatchesfilepatterndeciderule" title="Permalink to this heading"></a></h3>
<p><span><span>Rule applies configured decision to any URIs which do *not*</span><span></span><span>match the supplied (file-pattern) regex.</span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;notMatchesFilePatternDecideRule&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.deciderules.NotMatchesFilePatternDecideRule&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;decision&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;regex&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;usePreset&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>decision</dt><dd><strong>(org.archive.modules.deciderules.DecideResult) </strong><span></span></dd>
<dt>regex</dt><dd><strong>(java.util.regex.Pattern) </strong><span></span></dd>
<dt>usePreset</dt><dd><strong>(org.archive.modules.deciderules.MatchesFilePatternDecideRule.Preset) </strong><span></span></dd>
</dl>
</section>
<section id="notmatcheslistregexdeciderule">
<h3>NotMatchesListRegexDecideRule<a class="headerlink" href="bean-reference.html#notmatcheslistregexdeciderule" title="Permalink to this heading"></a></h3>
<p><span><span>Rule applies configured decision to any URIs which do *not*</span><span></span><span>match the supplied regex.</span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;notMatchesListRegexDecideRule&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.deciderules.NotMatchesListRegexDecideRule&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;decision&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;listLogicalOr&quot; value=&quot;true&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;regexList&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;timeoutPerRegexSeconds&quot; value=&quot;0&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>decision</dt><dd><strong>(org.archive.modules.deciderules.DecideResult) </strong><span></span></dd>
<dt>listLogicalOr</dt><dd><strong>(boolean) </strong><span><span>True if the list of regular expression should be considered as logically</span><span></span><span>AND when matching. False if the list of regular expressions should be</span><span></span><span>considered as logically OR when matching.</span></span></dd>
<dt>regexList</dt><dd><strong>(java.util.List&lt;java.util.regex.Pattern&gt;) </strong><span><span>The list of regular expressions to evalute against the URI.</span></span></dd>
<dt>timeoutPerRegexSeconds</dt><dd><strong>(long) </strong><span><span>The timeout for regular expression matching, in seconds. If set to 0 or negative then no timeout is specified and</span><span></span><span>there is no upper limit to how long the matching may take. See the corresponding test class MatchesListRegexDecideRuleTest</span><span></span><span>for a pathological example.</span></span></dd>
</dl>
</section>
<section id="notmatchesregexdeciderule">
<h3>NotMatchesRegexDecideRule<a class="headerlink" href="bean-reference.html#notmatchesregexdeciderule" title="Permalink to this heading"></a></h3>
<p><span><span>Rule applies configured decision to any URIs which do *not*</span><span></span><span>match the supplied regex.</span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;notMatchesRegexDecideRule&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.deciderules.NotMatchesRegexDecideRule&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;decision&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;regex&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>decision</dt><dd><strong>(org.archive.modules.deciderules.DecideResult) </strong><span></span></dd>
<dt>regex</dt><dd><strong>(java.util.regex.Pattern) </strong><span></span></dd>
</dl>
</section>
<section id="notmatchesstatuscodedeciderule">
<h3>NotMatchesStatusCodeDecideRule<a class="headerlink" href="bean-reference.html#notmatchesstatuscodedeciderule" title="Permalink to this heading"></a></h3>
<p><span><span>Provides a rule that returns “true” for any CrawlURIs which has a fetch</span><span></span><span>status code that does not fall within the provided inclusive range. For</span><span></span><span>instance, to reject any URIs with a “client error” status code you must</span><span></span><span>provide the range 400 to 499.</span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;notMatchesStatusCodeDecideRule&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.deciderules.NotMatchesStatusCodeDecideRule&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;decision&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;lowerBound&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;upperBound&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;upperBound&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>decision</dt><dd><strong>(org.archive.modules.deciderules.DecideResult) </strong><span></span></dd>
<dt>lowerBound</dt><dd><strong>(java.lang.Integer) </strong><span><span>Sets the lower bound on the range of acceptable status codes.</span><p><span>&#64;param statusCode Status code</span></p>
</span></dd>
<dt>upperBound</dt><dd><strong>(java.lang.Integer) </strong><span><span>Sets the upper bound on the range of acceptable status codes.</span></span></dd>
<dt>upperBound</dt><dd><strong>(java.lang.Integer) </strong><span><span>Sets the upper bound on the range of acceptable status codes.</span><p><span>&#64;param statusCode Status code</span></p>
</span></dd>
</dl>
</section>
<section id="notondomainsdeciderule">
<h3>NotOnDomainsDecideRule<a class="headerlink" href="bean-reference.html#notondomainsdeciderule" title="Permalink to this heading"></a></h3>
<p><span><span>Rule applies configured decision to any URIs that are</span><span></span><span>*not* in one of the domains in the configured set of</span><span></span><span>domains, filled from the seed set.</span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;notOnDomainsDecideRule&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.deciderules.surt.NotOnDomainsDecideRule&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;alsoCheckVia&quot; value=&quot;false&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;decision&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;recoveryCheckpoint&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;seeds&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;seedsAsSurtPrefixes&quot; value=&quot;true&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;surtsDumpFile&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;surtsSource&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;surtsSourceFile&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>alsoCheckVia</dt><dd><strong>(boolean) </strong><span><span>Whether to also make the configured decision if a URI’s ‘via’ URI (the</span><span></span><span>URI from which it was discovered) in SURT form begins with any of the</span><span></span><span>established prefixes. For example, can be used to ACCEPT URIs that are</span><span></span><span>’one hop off’ URIs fitting the SURT prefixes. Default is false.</span></span></dd>
<dt>decision</dt><dd><strong>(org.archive.modules.deciderules.DecideResult) </strong><span></span></dd>
<dt>recoveryCheckpoint</dt><dd><strong>(org.archive.checkpointing.Checkpoint) </strong><span></span></dd>
<dt>seeds</dt><dd><strong>(org.archive.modules.seeds.SeedModule) </strong><span></span></dd>
<dt>seedsAsSurtPrefixes</dt><dd><strong>(boolean) </strong><span><span>Should seeds also be interpreted as SURT prefixes.</span></span></dd>
<dt>surtsDumpFile</dt><dd><strong>(org.archive.spring.ConfigFile) </strong><span><span>Dump file to save SURT prefixes actually used: Useful debugging SURTs.</span></span></dd>
<dt>surtsSource</dt><dd><strong>(org.archive.io.ReadSource) </strong><span><span>Text from which to infer SURT prefixes. Any URLs will be converted to the</span><span></span><span>implied SURT prefix, and literal SURT prefixes may be listed on lines</span><span></span><span>beginning with a ‘+’ character.</span></span></dd>
<dt>surtsSourceFile</dt><dd><strong>(org.archive.spring.ConfigFile) </strong><span><span>&#64;deprecated</span></span></dd>
</dl>
</section>
<section id="notonhostsdeciderule">
<h3>NotOnHostsDecideRule<a class="headerlink" href="bean-reference.html#notonhostsdeciderule" title="Permalink to this heading"></a></h3>
<p><span><span>Rule applies configured decision to any URIs that</span><span></span><span>are *not* on one of the hosts in the configured set of</span><span></span><span>hosts, filled from the seed set.</span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;notOnHostsDecideRule&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.deciderules.surt.NotOnHostsDecideRule&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;alsoCheckVia&quot; value=&quot;false&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;decision&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;recoveryCheckpoint&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;seeds&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;seedsAsSurtPrefixes&quot; value=&quot;true&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;surtsDumpFile&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;surtsSource&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;surtsSourceFile&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>alsoCheckVia</dt><dd><strong>(boolean) </strong><span><span>Whether to also make the configured decision if a URI’s ‘via’ URI (the</span><span></span><span>URI from which it was discovered) in SURT form begins with any of the</span><span></span><span>established prefixes. For example, can be used to ACCEPT URIs that are</span><span></span><span>’one hop off’ URIs fitting the SURT prefixes. Default is false.</span></span></dd>
<dt>decision</dt><dd><strong>(org.archive.modules.deciderules.DecideResult) </strong><span></span></dd>
<dt>recoveryCheckpoint</dt><dd><strong>(org.archive.checkpointing.Checkpoint) </strong><span></span></dd>
<dt>seeds</dt><dd><strong>(org.archive.modules.seeds.SeedModule) </strong><span></span></dd>
<dt>seedsAsSurtPrefixes</dt><dd><strong>(boolean) </strong><span><span>Should seeds also be interpreted as SURT prefixes.</span></span></dd>
<dt>surtsDumpFile</dt><dd><strong>(org.archive.spring.ConfigFile) </strong><span><span>Dump file to save SURT prefixes actually used: Useful debugging SURTs.</span></span></dd>
<dt>surtsSource</dt><dd><strong>(org.archive.io.ReadSource) </strong><span><span>Text from which to infer SURT prefixes. Any URLs will be converted to the</span><span></span><span>implied SURT prefix, and literal SURT prefixes may be listed on lines</span><span></span><span>beginning with a ‘+’ character.</span></span></dd>
<dt>surtsSourceFile</dt><dd><strong>(org.archive.spring.ConfigFile) </strong><span><span>&#64;deprecated</span></span></dd>
</dl>
</section>
<section id="notsurtprefixeddeciderule">
<h3>NotSurtPrefixedDecideRule<a class="headerlink" href="bean-reference.html#notsurtprefixeddeciderule" title="Permalink to this heading"></a></h3>
<p><span><span>Rule applies configured decision to any URIs that, when </span><span></span><span>expressed in SURT form, do *not* begin with one of the prefixes</span><span></span><span>in the configured set. </span><p><span>The set can be filled with SURT prefixes implied or</span><span></span><span>listed in the seeds file, or another external file.</span></p>
</span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;notSurtPrefixedDecideRule&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.deciderules.surt.NotSurtPrefixedDecideRule&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;alsoCheckVia&quot; value=&quot;false&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;decision&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;recoveryCheckpoint&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;seeds&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;seedsAsSurtPrefixes&quot; value=&quot;true&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;surtsDumpFile&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;surtsSource&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;surtsSourceFile&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>alsoCheckVia</dt><dd><strong>(boolean) </strong><span><span>Whether to also make the configured decision if a URI’s ‘via’ URI (the</span><span></span><span>URI from which it was discovered) in SURT form begins with any of the</span><span></span><span>established prefixes. For example, can be used to ACCEPT URIs that are</span><span></span><span>’one hop off’ URIs fitting the SURT prefixes. Default is false.</span></span></dd>
<dt>decision</dt><dd><strong>(org.archive.modules.deciderules.DecideResult) </strong><span></span></dd>
<dt>recoveryCheckpoint</dt><dd><strong>(org.archive.checkpointing.Checkpoint) </strong><span></span></dd>
<dt>seeds</dt><dd><strong>(org.archive.modules.seeds.SeedModule) </strong><span></span></dd>
<dt>seedsAsSurtPrefixes</dt><dd><strong>(boolean) </strong><span><span>Should seeds also be interpreted as SURT prefixes.</span></span></dd>
<dt>surtsDumpFile</dt><dd><strong>(org.archive.spring.ConfigFile) </strong><span><span>Dump file to save SURT prefixes actually used: Useful debugging SURTs.</span></span></dd>
<dt>surtsSource</dt><dd><strong>(org.archive.io.ReadSource) </strong><span><span>Text from which to infer SURT prefixes. Any URLs will be converted to the</span><span></span><span>implied SURT prefix, and literal SURT prefixes may be listed on lines</span><span></span><span>beginning with a ‘+’ character.</span></span></dd>
<dt>surtsSourceFile</dt><dd><strong>(org.archive.spring.ConfigFile) </strong><span><span>&#64;deprecated</span></span></dd>
</dl>
</section>
<section id="ondomainsdeciderule">
<h3>OnDomainsDecideRule<a class="headerlink" href="bean-reference.html#ondomainsdeciderule" title="Permalink to this heading"></a></h3>
<p><span><span>Rule applies configured decision to any URIs that</span><span></span><span>are on one of the domains in the configured set of</span><span></span><span>domains, filled from the seed set.</span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;onDomainsDecideRule&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.deciderules.surt.OnDomainsDecideRule&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;alsoCheckVia&quot; value=&quot;false&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;decision&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;recoveryCheckpoint&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;seeds&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;seedsAsSurtPrefixes&quot; value=&quot;true&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;surtsDumpFile&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;surtsSource&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;surtsSourceFile&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>alsoCheckVia</dt><dd><strong>(boolean) </strong><span><span>Whether to also make the configured decision if a URI’s ‘via’ URI (the</span><span></span><span>URI from which it was discovered) in SURT form begins with any of the</span><span></span><span>established prefixes. For example, can be used to ACCEPT URIs that are</span><span></span><span>’one hop off’ URIs fitting the SURT prefixes. Default is false.</span></span></dd>
<dt>decision</dt><dd><strong>(org.archive.modules.deciderules.DecideResult) </strong><span></span></dd>
<dt>recoveryCheckpoint</dt><dd><strong>(org.archive.checkpointing.Checkpoint) </strong><span></span></dd>
<dt>seeds</dt><dd><strong>(org.archive.modules.seeds.SeedModule) </strong><span></span></dd>
<dt>seedsAsSurtPrefixes</dt><dd><strong>(boolean) </strong><span><span>Should seeds also be interpreted as SURT prefixes.</span></span></dd>
<dt>surtsDumpFile</dt><dd><strong>(org.archive.spring.ConfigFile) </strong><span><span>Dump file to save SURT prefixes actually used: Useful debugging SURTs.</span></span></dd>
<dt>surtsSource</dt><dd><strong>(org.archive.io.ReadSource) </strong><span><span>Text from which to infer SURT prefixes. Any URLs will be converted to the</span><span></span><span>implied SURT prefix, and literal SURT prefixes may be listed on lines</span><span></span><span>beginning with a ‘+’ character.</span></span></dd>
<dt>surtsSourceFile</dt><dd><strong>(org.archive.spring.ConfigFile) </strong><span><span>&#64;deprecated</span></span></dd>
</dl>
</section>
<section id="onhostsdeciderule">
<h3>OnHostsDecideRule<a class="headerlink" href="bean-reference.html#onhostsdeciderule" title="Permalink to this heading"></a></h3>
<p><span><span>Rule applies configured decision to any URIs that</span><span></span><span>are on one of the hosts in the configured set of</span><span></span><span>hosts, filled from the seed set.</span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;onHostsDecideRule&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.deciderules.surt.OnHostsDecideRule&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;alsoCheckVia&quot; value=&quot;false&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;decision&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;recoveryCheckpoint&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;seeds&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;seedsAsSurtPrefixes&quot; value=&quot;true&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;surtsDumpFile&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;surtsSource&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;surtsSourceFile&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>alsoCheckVia</dt><dd><strong>(boolean) </strong><span><span>Whether to also make the configured decision if a URI’s ‘via’ URI (the</span><span></span><span>URI from which it was discovered) in SURT form begins with any of the</span><span></span><span>established prefixes. For example, can be used to ACCEPT URIs that are</span><span></span><span>’one hop off’ URIs fitting the SURT prefixes. Default is false.</span></span></dd>
<dt>decision</dt><dd><strong>(org.archive.modules.deciderules.DecideResult) </strong><span></span></dd>
<dt>recoveryCheckpoint</dt><dd><strong>(org.archive.checkpointing.Checkpoint) </strong><span></span></dd>
<dt>seeds</dt><dd><strong>(org.archive.modules.seeds.SeedModule) </strong><span></span></dd>
<dt>seedsAsSurtPrefixes</dt><dd><strong>(boolean) </strong><span><span>Should seeds also be interpreted as SURT prefixes.</span></span></dd>
<dt>surtsDumpFile</dt><dd><strong>(org.archive.spring.ConfigFile) </strong><span><span>Dump file to save SURT prefixes actually used: Useful debugging SURTs.</span></span></dd>
<dt>surtsSource</dt><dd><strong>(org.archive.io.ReadSource) </strong><span><span>Text from which to infer SURT prefixes. Any URLs will be converted to the</span><span></span><span>implied SURT prefix, and literal SURT prefixes may be listed on lines</span><span></span><span>beginning with a ‘+’ character.</span></span></dd>
<dt>surtsSourceFile</dt><dd><strong>(org.archive.spring.ConfigFile) </strong><span><span>&#64;deprecated</span></span></dd>
</dl>
</section>
<section id="pathologicalpathdeciderule">
<h3>PathologicalPathDecideRule<a class="headerlink" href="bean-reference.html#pathologicalpathdeciderule" title="Permalink to this heading"></a></h3>
<p><span><span>Rule REJECTs any URI which contains an excessive number of identical, </span><span></span><span>consecutive path-segments (eg http://example.com/a/a/a/boo.html == 3 ‘/a’ </span><span></span><span>segments)</span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;pathologicalPathDecideRule&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.deciderules.PathologicalPathDecideRule&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;maxRepetitions&quot; value=&quot;2&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>maxRepetitions</dt><dd><strong>(int) </strong><span><span>Number of times the pattern should be allowed to occur. This rule returns</span><span></span><span>its decision (usually REJECT) if a path-segment is repeated more than</span><span></span><span>number of times.</span></span></dd>
</dl>
</section>
<section id="predicateddeciderule">
<h3>PredicatedDecideRule<a class="headerlink" href="bean-reference.html#predicateddeciderule" title="Permalink to this heading"></a></h3>
<p><span><span>Rule which applies the configured decision only if a </span><span></span><span>test evaluates to true. Subclasses override evaluate()</span><span></span><span>to establish the test.</span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;predicatedDecideRule&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.deciderules.PredicatedDecideRule&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;decision&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>decision</dt><dd><strong>(org.archive.modules.deciderules.DecideResult) </strong><span></span></dd>
</dl>
</section>
<section id="prerequisiteacceptdeciderule">
<h3>PrerequisiteAcceptDecideRule<a class="headerlink" href="bean-reference.html#prerequisiteacceptdeciderule" title="Permalink to this heading"></a></h3>
<p><span><span>Rule which ACCEPTs all ‘prerequisite’ URIs (those with a ‘P’ in</span><span></span><span>the last hopsPath position). Good in a late position to ensure</span><span></span><span>other scope settings don’t lock out necessary prerequisites.</span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;prerequisiteAcceptDecideRule&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.deciderules.PrerequisiteAcceptDecideRule&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl class="simple">
</dl>
</section>
<section id="rejectdeciderule">
<h3>RejectDecideRule<a class="headerlink" href="bean-reference.html#rejectdeciderule" title="Permalink to this heading"></a></h3>
<p><span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;rejectDecideRule&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.deciderules.RejectDecideRule&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl class="simple">
</dl>
</section>
<section id="resourcelongerthandeciderule">
<h3>ResourceLongerThanDecideRule<a class="headerlink" href="bean-reference.html#resourcelongerthandeciderule" title="Permalink to this heading"></a></h3>
<p><span><span>Applies configured decision for URIs with content length greater than</span><span></span><span>a given threshold length value. Examines either HTTP header Content-Length</span><span></span><span>or actual downloaded content length (based on the useHeaderLength property), </span><span></span><span>and has no effect on resources shorter than or equal to the given threshold </span><span></span><span>value.</span><p><span>Note that because neither the Content-Length header nor the actual size are</span><span></span><span>available at URI-scoping time, this rule is unusable in crawl scopes. </span><span></span><span>Instead, the earliest it can be used is as a mid-fetch rule (in FetchHTTP), </span><span></span><span>when the headers are available but not yet the body. It can also be used </span><span></span><span>to affect processing after the URI is fully fetched.</span></p>
</span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;resourceLongerThanDecideRule&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.deciderules.ResourceLongerThanDecideRule&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;contentLengthThreshold&quot; value=&quot;-1&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;decision&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;useHeaderLength&quot; value=&quot;true&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>contentLengthThreshold</dt><dd><strong>(long) </strong><span><span>Max content-length this filter will allow to pass through. If -1,</span><span></span><span>then no limit.</span></span></dd>
<dt>decision</dt><dd><strong>(org.archive.modules.deciderules.DecideResult) </strong><span></span></dd>
<dt>useHeaderLength</dt><dd><strong>(boolean) </strong><span><span>Shall this rule be used as a midfetch rule? If true, this rule will</span><span></span><span>determine content length based on HTTP header information, otherwise</span><span></span><span>the size of the already downloaded content will be used.</span></span></dd>
</dl>
</section>
<section id="resourcenolongerthandeciderule">
<h3>ResourceNoLongerThanDecideRule<a class="headerlink" href="bean-reference.html#resourcenolongerthandeciderule" title="Permalink to this heading"></a></h3>
<p><span><span>Applies configured decision for URIs with content length less than or equal</span><span></span><span>to a given threshold length value. Examines either HTTP header Content-Length</span><span></span><span>or actual downloaded content length (based on the useHeaderLength property), </span><span></span><span>and has no effect on resources longer than the given threshold value.</span><p><span>Note that because neither the Content-Length header nor the actual size are</span><span></span><span>available at URI-scoping time, this rule is unusable in crawl scopes. </span><span></span><span>Instead, the earliest it can be used is as a mid-fetch rule (in FetchHTTP), </span><span></span><span>when the headers are available but not yet the body. It can also be used </span><span></span><span>to affect processing after the URI is fully fetched.</span></p>
</span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;resourceNoLongerThanDecideRule&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.deciderules.ResourceNoLongerThanDecideRule&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;contentLengthThreshold&quot; value=&quot;-1&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;decision&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;useHeaderLength&quot; value=&quot;true&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>contentLengthThreshold</dt><dd><strong>(long) </strong><span><span>Max content-length this filter will allow to pass through. If -1,</span><span></span><span>then no limit.</span></span></dd>
<dt>decision</dt><dd><strong>(org.archive.modules.deciderules.DecideResult) </strong><span></span></dd>
<dt>useHeaderLength</dt><dd><strong>(boolean) </strong><span><span>Shall this rule be used as a midfetch rule? If true, this rule will</span><span></span><span>determine content length based on HTTP header information, otherwise</span><span></span><span>the size of the already downloaded content will be used.</span></span></dd>
</dl>
</section>
<section id="responsecontentlengthdeciderule">
<h3>ResponseContentLengthDecideRule<a class="headerlink" href="bean-reference.html#responsecontentlengthdeciderule" title="Permalink to this heading"></a></h3>
<p><span><span>Decide rule that will ACCEPT or REJECT a uri, depending on the</span><span></span><span>”decision” property, after it’s fetched, if the content body is within a</span><span></span><span>specified size range, specified in bytes.</span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;responseContentLengthDecideRule&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.deciderules.ResponseContentLengthDecideRule&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;decision&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;lowerBound&quot; value=&quot;0&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;upperBound&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>decision</dt><dd><strong>(org.archive.modules.deciderules.DecideResult) </strong><span></span></dd>
<dt>lowerBound</dt><dd><strong>(long) </strong><span><span>The rule will apply if the url has been fetched and content body length</span><span></span><span>is greater than or equal to this number of bytes. Default is 0, meaning</span><span></span><span>everything will match.</span></span></dd>
<dt>upperBound</dt><dd><strong>(long) </strong><span><span>The rule will apply if the url has been fetched and content body length</span><span></span><span>is less than or equal to this number of bytes. Default is</span><span></span><code class="docutils literal notranslate"><span><span class="pre">Long.MAX_VALUE</span></span></code><span>, meaning everything will match.</span></span></dd>
</dl>
</section>
<section id="schemenotinsetdeciderule">
<h3>SchemeNotInSetDecideRule<a class="headerlink" href="bean-reference.html#schemenotinsetdeciderule" title="Permalink to this heading"></a></h3>
<p><span><span>Rule applies the configured decision (default REJECT) for any URI which </span><span></span><span>has a URI-scheme NOT contained in the configured Set.</span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;schemeNotInSetDecideRule&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.deciderules.SchemeNotInSetDecideRule&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;decision&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;schemes&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>decision</dt><dd><strong>(org.archive.modules.deciderules.DecideResult) </strong><span></span></dd>
<dt>schemes</dt><dd><strong>(java.util.Set&lt;java.lang.String&gt;) </strong><span><span>set of schemes to test URI scheme</span></span></dd>
</dl>
</section>
<section id="scripteddeciderule">
<h3>ScriptedDecideRule<a class="headerlink" href="bean-reference.html#scripteddeciderule" title="Permalink to this heading"></a></h3>
<p><span><span>Rule which runs a JSR-223 script to make its decision. </span><p><span>Script source may be provided via a file local to the crawler or</span><span></span><span>an inline configuration string. </span><p><span>The source must include a one-argument function “decisionFor” which </span><span></span><span>returns the appropriate DecideResult.</span><p><span>Variables available to the script include ‘object’ (the object to be</span><span></span><span>evaluated, typically a CrawlURI), ‘self’ (this ScriptedDecideRule </span><span></span><span>instance), and ‘context’ (the crawl’s  ApplicationContext, from </span><span></span><span>which all named crawl beans are easily reachable). </span><p><span></span><span></span><span>by watching for a certain applicationEvent?</span></p>
</p>
</p>
</p>
</span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;scriptedDecideRule&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.deciderules.ScriptedDecideRule&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;applicationContext&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;engineName&quot; value=&quot;beanshell&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;isolateThreads&quot; value=&quot;true&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;scriptSource&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>applicationContext</dt><dd><strong>(org.springframework.context.ApplicationContext) </strong><span></span></dd>
<dt>engineName</dt><dd><strong>(java.lang.String) </strong><span><span>engine name; default “beanshell”</span></span></dd>
<dt>isolateThreads</dt><dd><strong>(boolean) </strong><span><span>Whether each ToeThread should get its own independent script </span><span></span><span>engine, or they should share synchronized access to one </span><span></span><span>engine. Default is true, meaning each thread gets its own </span><span></span><span>isolated engine.</span></span></dd>
<dt>scriptSource</dt><dd><strong>(org.archive.io.ReadSource) </strong><span></span></dd>
</dl>
</section>
<section id="seedacceptdeciderule">
<h3>SeedAcceptDecideRule<a class="headerlink" href="bean-reference.html#seedacceptdeciderule" title="Permalink to this heading"></a></h3>
<p><span><span>Rule which ACCEPTs all ‘seed’ URIs (those for which </span><span></span><span>isSeed is true). Good in a late position to ensure</span><span></span><span>other scope settings don’t lock out explicitly added</span><span></span><span>seeds.</span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;seedAcceptDecideRule&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.deciderules.SeedAcceptDecideRule&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl class="simple">
</dl>
</section>
<section id="sourceseeddeciderule">
<h3>SourceSeedDecideRule<a class="headerlink" href="bean-reference.html#sourceseeddeciderule" title="Permalink to this heading"></a></h3>
<p><span><span>Rule applies the configured decision for any URI with discovered from one of</span><span></span><span>the seeds in </span><code class="docutils literal notranslate"><span><span class="pre">sourceSeeds</span></span></code><span>.</span><p><span>SeedModule#getSourceTagSeeds() must be enabled or the rule will never</span><span></span><span>apply.</span></p>
</span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;sourceSeedDecideRule&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.deciderules.SourceSeedDecideRule&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;decision&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;sourceSeeds&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>decision</dt><dd><strong>(org.archive.modules.deciderules.DecideResult) </strong><span></span></dd>
<dt>sourceSeeds</dt><dd><strong>(java.util.Set&lt;java.lang.String&gt;) </strong><span></span></dd>
</dl>
</section>
<section id="surtprefixeddeciderule">
<h3>SurtPrefixedDecideRule<a class="headerlink" href="bean-reference.html#surtprefixeddeciderule" title="Permalink to this heading"></a></h3>
<p><span><span>Rule applies configured decision to any URIs that, when </span><span></span><span>expressed in SURT form, begin with one of the prefixes</span><span></span><span>in the configured set. </span><p><span>The set can be filled with SURT prefixes implied or</span><span></span><span>listed in the seeds file, or another external file. </span><p><span>The “also-check-via” option to implement “one hop off” </span><span></span><span>scoping derives from a contribution by Shifra Raffel</span><span></span><span>of the California Digital Library.</span></p>
</p>
</span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;surtPrefixedDecideRule&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.deciderules.surt.SurtPrefixedDecideRule&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;alsoCheckVia&quot; value=&quot;false&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;decision&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;recoveryCheckpoint&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;seeds&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;seedsAsSurtPrefixes&quot; value=&quot;true&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;surtsDumpFile&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;surtsSource&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;surtsSourceFile&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>alsoCheckVia</dt><dd><strong>(boolean) </strong><span><span>Whether to also make the configured decision if a URI’s ‘via’ URI (the</span><span></span><span>URI from which it was discovered) in SURT form begins with any of the</span><span></span><span>established prefixes. For example, can be used to ACCEPT URIs that are</span><span></span><span>’one hop off’ URIs fitting the SURT prefixes. Default is false.</span></span></dd>
<dt>decision</dt><dd><strong>(org.archive.modules.deciderules.DecideResult) </strong><span></span></dd>
<dt>recoveryCheckpoint</dt><dd><strong>(org.archive.checkpointing.Checkpoint) </strong><span></span></dd>
<dt>seeds</dt><dd><strong>(org.archive.modules.seeds.SeedModule) </strong><span></span></dd>
<dt>seedsAsSurtPrefixes</dt><dd><strong>(boolean) </strong><span><span>Should seeds also be interpreted as SURT prefixes.</span></span></dd>
<dt>surtsDumpFile</dt><dd><strong>(org.archive.spring.ConfigFile) </strong><span><span>Dump file to save SURT prefixes actually used: Useful debugging SURTs.</span></span></dd>
<dt>surtsSource</dt><dd><strong>(org.archive.io.ReadSource) </strong><span><span>Text from which to infer SURT prefixes. Any URLs will be converted to the</span><span></span><span>implied SURT prefix, and literal SURT prefixes may be listed on lines</span><span></span><span>beginning with a ‘+’ character.</span></span></dd>
<dt>surtsSourceFile</dt><dd><strong>(org.archive.spring.ConfigFile) </strong><span><span>&#64;deprecated</span></span></dd>
</dl>
</section>
<section id="toomanyhopsdeciderule">
<h3>TooManyHopsDecideRule<a class="headerlink" href="bean-reference.html#toomanyhopsdeciderule" title="Permalink to this heading"></a></h3>
<p><span><span>Rule REJECTs any CrawlURIs whose total number of hops (length of the </span><span></span><span>hopsPath string, traversed links of any type) is over a threshold.</span><span></span><span>Otherwise returns PASS.</span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;tooManyHopsDecideRule&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.deciderules.TooManyHopsDecideRule&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;decision&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;maxHops&quot; value=&quot;20&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>decision</dt><dd><strong>(org.archive.modules.deciderules.DecideResult) </strong><span></span></dd>
<dt>maxHops</dt><dd><strong>(int) </strong><span><span>Max path depth for which this filter will match.</span></span></dd>
</dl>
</section>
<section id="toomanypathsegmentsdeciderule">
<h3>TooManyPathSegmentsDecideRule<a class="headerlink" href="bean-reference.html#toomanypathsegmentsdeciderule" title="Permalink to this heading"></a></h3>
<p><span><span>Rule REJECTs any CrawlURIs whose total number of path-segments (as</span><span></span><span>indicated by the count of ‘/’ characters not including the first ‘//’)</span><span></span><span>is over a given threshold.</span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;tooManyPathSegmentsDecideRule&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.deciderules.TooManyPathSegmentsDecideRule&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;decision&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;maxPathDepth&quot; value=&quot;20&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>decision</dt><dd><strong>(org.archive.modules.deciderules.DecideResult) </strong><span></span></dd>
<dt>maxPathDepth</dt><dd><strong>(int) </strong><span><span>Number of path segments beyond which this rule will reject URIs.</span></span></dd>
</dl>
</section>
<section id="transclusiondeciderule">
<h3>TransclusionDecideRule<a class="headerlink" href="bean-reference.html#transclusiondeciderule" title="Permalink to this heading"></a></h3>
<p><span><span>Rule ACCEPTs any CrawlURIs whose path-from-seed (‘hopsPath’ – see</span><span></span><span>CrawlURI#getPathFromSeed() ends </span><span></span><span>with at least one, but not more than, the given number of </span><span></span><span>non-navlink (‘L’) hops. </span><p><span>Otherwise, if the path-from-seed is empty or if a navlink (‘L’) occurs</span><span></span><span>within max-trans-hops of the tail of the path-from-seed, this rule</span><span></span><span>returns PASS.</span><span></span><span> </span><span></span><p><span>Thus, it allows things like embedded resources (frames/images/media) </span><span></span><span>and redirects to be transitively included (‘transcluded’) in a crawl, </span><span></span><span>even if they otherwise would not, for some reasonable number of hops</span><span></span><span>(usually 1-5).</span></p>
</p>
</span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;transclusionDecideRule&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.deciderules.TransclusionDecideRule&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;decision&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;maxSpeculativeHops&quot; value=&quot;1&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;maxTransHops&quot; value=&quot;2&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>decision</dt><dd><strong>(org.archive.modules.deciderules.DecideResult) </strong><span></span></dd>
<dt>maxSpeculativeHops</dt><dd><strong>(int) </strong><span><span>Maximum number of speculative (‘X’) hops to ACCEPT.</span></span></dd>
<dt>maxTransHops</dt><dd><strong>(int) </strong><span><span>Maximum number of non-navlink (non-‘L’) hops to ACCEPT.</span></span></dd>
</dl>
</section>
<section id="viasurtprefixeddeciderule">
<h3>ViaSurtPrefixedDecideRule<a class="headerlink" href="bean-reference.html#viasurtprefixeddeciderule" title="Permalink to this heading"></a></h3>
<p><span><span>Rule applies the configured decision for any URI which has a ‘via’ whose</span><span></span><span>surtform matches any surt specified in the surtPrefixes list</span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;viaSurtPrefixedDecideRule&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.deciderules.ViaSurtPrefixedDecideRule&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;decision&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;surtPrefixes&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>decision</dt><dd><strong>(org.archive.modules.deciderules.DecideResult) </strong><span></span></dd>
<dt>surtPrefixes</dt><dd><strong>(java.util.List&lt;java.lang.String&gt;) </strong><span></span></dd>
</dl>
</section>
</section>
<section id="candidate-processors">
<h2>Candidate Processors<a class="headerlink" href="bean-reference.html#candidate-processors" title="Permalink to this heading"></a></h2>
<section id="candidatescoper">
<h3>CandidateScoper<a class="headerlink" href="bean-reference.html#candidatescoper" title="Permalink to this heading"></a></h3>
<p><span><span>Simple single-URI scoper, considers passed-in URI as candidate; sets </span><span></span><span>fetchstatus negative and skips to end of processing if out-of-scope.</span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;candidateScoper&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.crawler.prefetch.CandidateScoper&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;logToFile&quot; value=&quot;false&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;loggerModule&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;scope&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>logToFile</dt><dd><strong>(boolean) </strong><span><span>If enabled, log decisions to file named logs/{spring-bean-id}.log. Format</span><span></span><span>is “[timestamp] [decision] [uri]” where decision is ‘ACCEPT’ or ‘REJECT’.</span></span></dd>
<dt>loggerModule</dt><dd><strong>(org.archive.crawler.reporting.CrawlerLoggerModule) </strong><span></span></dd>
<dt>scope</dt><dd><strong>(org.archive.modules.deciderules.DecideRule) </strong><span></span></dd>
</dl>
</section>
<section id="frontierpreparer">
<h3>FrontierPreparer<a class="headerlink" href="bean-reference.html#frontierpreparer" title="Permalink to this heading"></a></h3>
<p><span><span>Processor to preload URI with as much precalculated policy-based </span><span></span><span>info as possible before it reaches frontier critical sections.</span><p><span>Frontiers also maintain a direct reference to this class, in case</span><span></span><span>they need to perform remedial preparation for URIs that do not</span><span></span><span>pass through this processor on the CandidateChain.</span></p>
</span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;frontierPreparer&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.crawler.prefetch.FrontierPreparer&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;canonicalizationPolicy&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;costAssignmentPolicy&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;logToFile&quot; value=&quot;false&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;loggerModule&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;preferenceDepthHops&quot; value=&quot;-1&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;preferenceEmbedHops&quot; value=&quot;1&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;queueAssignmentPolicy&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;scope&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;uriPrecedencePolicy&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>canonicalizationPolicy</dt><dd><strong>(org.archive.modules.canonicalize.UriCanonicalizationPolicy) </strong><span><span>Ordered list of url canonicalization rules.  Rules are applied in the</span><span></span><span>order listed from top to bottom.</span></span></dd>
<dt>costAssignmentPolicy</dt><dd><strong>(org.archive.crawler.frontier.CostAssignmentPolicy) </strong><span><span>cost assignment policy to use.</span></span></dd>
<dt>logToFile</dt><dd><strong>(boolean) </strong><span><span>If enabled, log decisions to file named logs/{spring-bean-id}.log. Format</span><span></span><span>is “[timestamp] [decision] [uri]” where decision is ‘ACCEPT’ or ‘REJECT’.</span></span></dd>
<dt>loggerModule</dt><dd><strong>(org.archive.crawler.reporting.CrawlerLoggerModule) </strong><span></span></dd>
<dt>preferenceDepthHops</dt><dd><strong>(int) </strong><span><span>Number of hops (of any sort) from a seed up to which a URI has higher</span><span></span><span>priority scheduling than any remaining seed. For example, if set to 1</span><span></span><span>items one hop (link, embed, redirect, etc.) away from a seed will be</span><span></span><span>scheduled with HIGH priority. If set to -1, no preferencing will occur,</span><span></span><span>and a breadth-first search with seeds processed before discovered links</span><span></span><span>will proceed. If set to zero, a purely depth-first search will proceed,</span><span></span><span>with all discovered links processed before remaining seeds. Seed</span><span></span><span>redirects are treated as one hop from a seed.</span></span></dd>
<dt>preferenceEmbedHops</dt><dd><strong>(int) </strong><span><span>number of hops of embeds (ERX) to bump to front of host queue</span></span></dd>
<dt>queueAssignmentPolicy</dt><dd><strong>(org.archive.crawler.frontier.QueueAssignmentPolicy) </strong><span><span>Defines how to assign URIs to queues. Can assign by host, by ip,</span><span></span><span>by SURT-ordered authority, by SURT-ordered authority truncated to</span><span></span><span>a topmost-assignable domain, and into one of a fixed set of buckets</span><span></span><span>(1k).</span></span></dd>
<dt>scope</dt><dd><strong>(org.archive.modules.deciderules.DecideRule) </strong><span></span></dd>
<dt>uriPrecedencePolicy</dt><dd><strong>(org.archive.crawler.frontier.precedence.UriPrecedencePolicy) </strong><span><span>URI precedence assignment policy to use.</span></span></dd>
</dl>
</section>
</section>
<section id="pre-fetch-processors">
<h2>Pre-Fetch Processors<a class="headerlink" href="bean-reference.html#pre-fetch-processors" title="Permalink to this heading"></a></h2>
<section id="preconditionenforcer">
<h3>PreconditionEnforcer<a class="headerlink" href="bean-reference.html#preconditionenforcer" title="Permalink to this heading"></a></h3>
<p><span><span>Ensures the preconditions for a fetch – such as DNS lookup </span><span></span><span>or acquiring and respecting a robots.txt policy – are</span><span></span><span>satisfied before a URI is passed to subsequent stages.</span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;preconditionEnforcer&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.crawler.prefetch.PreconditionEnforcer&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;calculateRobotsOnly&quot; value=&quot;false&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;credentialStore&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;ipValidityDurationSeconds&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;loggerModule&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;metadata&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;robotsValidityDurationSeconds&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;serverCache&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>calculateRobotsOnly</dt><dd><strong>(boolean) </strong><span><span>Whether to only calculate the robots status of an URI, without actually</span><span></span><span>applying any exclusions found. If true, exlcuded URIs will only be</span><span></span><span>annotated in the crawl.log, but still fetched. Default is false.</span></span></dd>
<dt>credentialStore</dt><dd><strong>(org.archive.modules.credential.CredentialStore) </strong><span></span></dd>
<dt>ipValidityDurationSeconds</dt><dd><strong>(int) </strong><span><span>The minimum interval for which a dns-record will be considered</span><span></span><span>valid (in seconds). If the record’s DNS TTL is larger, that will</span><span></span><span>be used instead.</span></span></dd>
<dt>loggerModule</dt><dd><strong>(org.archive.crawler.reporting.CrawlerLoggerModule) </strong><span></span></dd>
<dt>metadata</dt><dd><strong>(org.archive.modules.CrawlMetadata) </strong><span><span>Auto-discovered module providing configured (or overridden)</span><span></span><span>User-Agent value and RobotsHonoringPolicy</span></span></dd>
<dt>robotsValidityDurationSeconds</dt><dd><strong>(int) </strong><span><span>The time in seconds that fetched robots.txt information is considered to</span><span></span><span>be valid. If the value is set to ‘0’, then the robots.txt information</span><span></span><span>will never expire.</span></span></dd>
<dt>serverCache</dt><dd><strong>(org.archive.modules.net.ServerCache) </strong><span></span></dd>
</dl>
</section>
<section id="preselector">
<h3>Preselector<a class="headerlink" href="bean-reference.html#preselector" title="Permalink to this heading"></a></h3>
<p><span><span>If set to recheck the crawl’s scope, gives a yes/no on whether</span><span></span><span>a CrawlURI should be processed at all. If not, its status</span><span></span><span>will be marked OUT_OF_SCOPE and the URI will skip directly</span><span></span><span>to the first “postprocessor”.</span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;preselector&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.crawler.prefetch.Preselector&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;allowByRegex&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;blockAll&quot; value=&quot;false&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;blockByRegex&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;logToFile&quot; value=&quot;false&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;loggerModule&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;recheckScope&quot; value=&quot;false&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;scope&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>allowByRegex</dt><dd><strong>(java.lang.String) </strong><span><span>Allow only URIs matching the regular expression to be processed.</span></span></dd>
<dt>blockAll</dt><dd><strong>(boolean) </strong><span><span>Block all URIs from being processed. This is most likely to be used in</span><span></span><span>overrides to easily reject certain hosts from being processed.</span></span></dd>
<dt>blockByRegex</dt><dd><strong>(java.lang.String) </strong><span><span>Block all URIs matching the regular expression from being processed.</span></span></dd>
<dt>logToFile</dt><dd><strong>(boolean) </strong><span><span>If enabled, log decisions to file named logs/{spring-bean-id}.log. Format</span><span></span><span>is “[timestamp] [decision] [uri]” where decision is ‘ACCEPT’ or ‘REJECT’.</span></span></dd>
<dt>loggerModule</dt><dd><strong>(org.archive.crawler.reporting.CrawlerLoggerModule) </strong><span></span></dd>
<dt>recheckScope</dt><dd><strong>(boolean) </strong><span><span>Recheck if uri is in scope. This is meaningful if the scope is altered</span><span></span><span>during a crawl. URIs are checked against the scope when they are added to</span><span></span><span>queues. Setting this value to true forces the URI to be checked against</span><span></span><span>the scope when it is coming out of the queue, possibly after the scope</span><span></span><span>is altered.</span></span></dd>
<dt>scope</dt><dd><strong>(org.archive.modules.deciderules.DecideRule) </strong><span></span></dd>
</dl>
</section>
</section>
<section id="fetch-processors">
<h2>Fetch Processors<a class="headerlink" href="bean-reference.html#fetch-processors" title="Permalink to this heading"></a></h2>
<section id="fetchdns">
<h3>FetchDNS<a class="headerlink" href="bean-reference.html#fetchdns" title="Permalink to this heading"></a></h3>
<p><span><span>Processor to resolve ‘dns:’ URIs.</span><p><span></span></p>
</span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;fetchDNS&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.fetcher.FetchDNS&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;acceptNonDnsResolves&quot; value=&quot;false&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;digestAlgorithm&quot; value=&quot;sha1&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;digestContent&quot; value=&quot;true&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;disableJavaDnsResolves&quot; value=&quot;false&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;dnsOverHttpServer&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;serverCache&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>acceptNonDnsResolves</dt><dd><strong>(boolean) </strong><span><span>If a DNS lookup fails, whether or not to fall back to InetAddress</span><span></span><span>resolution, which may use local ‘hosts’ files or other mechanisms.</span></span></dd>
<dt>digestAlgorithm</dt><dd><strong>(java.lang.String) </strong><span><span>Which algorithm (for example MD5 or SHA-1) to use to perform an</span><span></span><span>on-the-fly digest hash of retrieved content-bodies.</span></span></dd>
<dt>digestContent</dt><dd><strong>(boolean) </strong><span><span>Whether or not to perform an on-the-fly digest hash of retrieved</span><span></span><span>content-bodies.</span></span></dd>
<dt>disableJavaDnsResolves</dt><dd><strong>(boolean) </strong><span><span>Optionally, only allow InetAddress resolution, precisely because it</span><span></span><span>may use local ‘hosts’ files or other mechanisms.</span><p><span>This should not generally be used in production as it will prevent</span><span></span><span>DNS lookups from being recorded properly.</span></p>
</span></dd>
<dt>dnsOverHttpServer</dt><dd><strong>(java.lang.String) </strong><span><span>URL to the DNS-on-HTTP(S) server.</span><span></span><span>If this not set or set to an empty string, no DNS-over-HTTP(S)</span><span></span><span>will be used; otherwise if should contain the URL to the</span><span></span><span>DNS-over-HTTPS server.</span></span></dd>
<dt>serverCache</dt><dd><strong>(org.archive.modules.net.ServerCache) </strong><span><span>Used to do DNS lookups.</span></span></dd>
</dl>
</section>
<section id="fetchftp">
<h3>FetchFTP<a class="headerlink" href="bean-reference.html#fetchftp" title="Permalink to this heading"></a></h3>
<p><span><span>Fetches documents and directory listings using FTP.  This class will also</span><span></span><span>try to extract FTP “links” from directory listings.  For this class to</span><span></span><span>archive a directory listing, the remote FTP server must support the NLIST</span><span></span><span>command.  Most modern FTP servers should.</span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;fetchFTP&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.fetcher.FetchFTP&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;digestAlgorithm&quot; value=&quot;sha1&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;digestContent&quot; value=&quot;true&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;extractFromDirs&quot; value=&quot;true&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;extractParent&quot; value=&quot;true&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;maxFetchKBSec&quot; value=&quot;0&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;maxLengthBytes&quot; value=&quot;0&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;password&quot; value=&quot;password&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;soTimeoutMs&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;timeoutSeconds&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;username&quot; value=&quot;anonymous&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>digestAlgorithm</dt><dd><strong>(java.lang.String) </strong><span><span>Which algorithm (for example MD5 or SHA-1) to use to perform an</span><span></span><span>on-the-fly digest hash of retrieved content-bodies.</span></span></dd>
<dt>digestContent</dt><dd><strong>(boolean) </strong><span><span>Whether or not to perform an on-the-fly digest hash of retrieved</span><span></span><span>content-bodies.</span></span></dd>
<dt>extractFromDirs</dt><dd><strong>(boolean) </strong><span><span>Set to true to extract further URIs from FTP directories. Default is</span><span></span><span>true.</span></span></dd>
<dt>extractParent</dt><dd><strong>(boolean) </strong><span><span>Set to true to extract the parent URI from all FTP URIs. Default is true.</span></span></dd>
<dt>maxFetchKBSec</dt><dd><strong>(int) </strong><span><span>The maximum KB/sec to use when fetching data from a server. The default</span><span></span><span>of 0 means no maximum.</span></span></dd>
<dt>maxLengthBytes</dt><dd><strong>(long) </strong><span><span>Maximum length in bytes to fetch. Fetch is truncated at this length. A</span><span></span><span>value of 0 means no limit.</span></span></dd>
<dt>password</dt><dd><strong>(java.lang.String) </strong><span><span>The password to send to FTP servers. By convention, anonymous users send</span><span></span><span>their email address in this field.</span></span></dd>
<dt>soTimeoutMs</dt><dd><strong>(int) </strong><span><span>If the socket is unresponsive for this number of milliseconds, give up.</span><span></span><span>Set to zero for no timeout (Not. recommended. Could hang a thread on an</span><span></span><span>unresponsive server). This timeout is used timing out socket opens and</span><span></span><span>for timing out each socket read. Make sure this value is &lt;</span><span></span><span>#getTimeoutSeconds() for optimal configuration: ensures at least one</span><span></span><span>retry read.</span></span></dd>
<dt>timeoutSeconds</dt><dd><strong>(int) </strong><span><span>If the fetch is not completed in this number of seconds, give up (and</span><span></span><span>retry later).</span></span></dd>
<dt>username</dt><dd><strong>(java.lang.String) </strong><span><span>The username to send to FTP servers. By convention, the default value of</span><span></span><span>”anonymous” is used for publicly available FTP sites.</span></span></dd>
</dl>
</section>
<section id="fetchhttp">
<h3>FetchHTTP<a class="headerlink" href="bean-reference.html#fetchhttp" title="Permalink to this heading"></a></h3>
<p><span><span>HTTP fetcher that uses </span><span><span>Apache HttpComponents</span></span><span>.</span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;fetchHTTP&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.fetcher.FetchHTTP&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;acceptCompression&quot; value=&quot;false&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;acceptHeaders&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;cookieStore&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;credentialStore&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;defaultEncoding&quot; value=&quot;ISO-8859-1&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;digestAlgorithm&quot; value=&quot;sha1&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;digestContent&quot; value=&quot;true&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;httpBindAddress&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;httpProxyHost&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;httpProxyPassword&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;httpProxyPort&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;httpProxyUser&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;ignoreCookies&quot; value=&quot;false&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;maxFetchKBSec&quot; value=&quot;0&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;maxLengthBytes&quot; value=&quot;0&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;sendConnectionClose&quot; value=&quot;true&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;sendIfModifiedSince&quot; value=&quot;true&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;sendIfNoneMatch&quot; value=&quot;true&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;sendRange&quot; value=&quot;false&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;sendReferer&quot; value=&quot;true&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;serverCache&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;shouldFetchBodyRule&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;soTimeoutMs&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;socksProxyHost&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;socksProxyPort&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;sslTrustLevel&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;timeoutSeconds&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;useHTTP11&quot; value=&quot;false&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;userAgentProvider&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>acceptCompression</dt><dd><strong>(boolean) </strong><span><span>Set headers to accept compressed responses.</span></span></dd>
<dt>acceptHeaders</dt><dd><strong>(java.util.List&lt;java.lang.String&gt;) </strong><span><span>Accept Headers to include in each request. Each must be the complete</span><span></span><span>header, e.g., ‘Accept-Language: en’. (Thus, this can also be used to</span><span></span><span>other headers not beginning ‘Accept-’ as well.) By default heritrix sends</span><span></span><span>an Accept header similar to what a typical browser would send (the value</span><span></span><span>comes from Firefox 4.0).</span></span></dd>
<dt>cookieStore</dt><dd><strong>(org.archive.modules.fetcher.AbstractCookieStore) </strong><span></span></dd>
<dt>credentialStore</dt><dd><strong>(org.archive.modules.credential.CredentialStore) </strong><span><span>Used to store credentials.</span></span></dd>
<dt>defaultEncoding</dt><dd><strong>(java.lang.String) </strong><span><span>The character encoding to use for files that do not have one specified in</span><span></span><span>the HTTP response headers. Default: ISO-8859-1.</span></span></dd>
<dt>digestAlgorithm</dt><dd><strong>(java.lang.String) </strong><span><span>Which algorithm (for example MD5 or SHA-1) to use to perform an</span><span></span><span>on-the-fly digest hash of retrieved content-bodies.</span></span></dd>
<dt>digestContent</dt><dd><strong>(boolean) </strong><span><span>Whether or not to perform an on-the-fly digest hash of retrieved</span><span></span><span>content-bodies.</span></span></dd>
<dt>httpBindAddress</dt><dd><strong>(java.lang.String) </strong><span><span>Local IP address or hostname to use when making connections (binding</span><span></span><span>sockets). When not specified, uses default local address(es).</span></span></dd>
<dt>httpProxyHost</dt><dd><strong>(java.lang.String) </strong><span><span>Proxy host IP (set only if needed).</span></span></dd>
<dt>httpProxyPassword</dt><dd><strong>(java.lang.String) </strong><span><span>Proxy password (set only if needed).</span></span></dd>
<dt>httpProxyPort</dt><dd><strong>(java.lang.Integer) </strong><span><span>Proxy port (set only if needed).</span></span></dd>
<dt>httpProxyUser</dt><dd><strong>(java.lang.String) </strong><span><span>Proxy user (set only if needed).</span></span></dd>
<dt>ignoreCookies</dt><dd><strong>(boolean) </strong><span><span>Disable cookie handling.</span></span></dd>
<dt>maxFetchKBSec</dt><dd><strong>(int) </strong><span><span>The maximum KB/sec to use when fetching data from a server. The default</span><span></span><span>of 0 means no maximum.</span></span></dd>
<dt>maxLengthBytes</dt><dd><strong>(long) </strong><span><span>Maximum length in bytes to fetch. Fetch is truncated at this length. A</span><span></span><span>value of 0 means no limit.</span></span></dd>
<dt>sendConnectionClose</dt><dd><strong>(boolean) </strong><span><span>Send ‘Connection: close’ header with every request.</span></span></dd>
<dt>sendIfModifiedSince</dt><dd><strong>(boolean) </strong><span><span>Send ‘If-Modified-Since’ header, if previous ‘Last-Modified’ fetch</span><span></span><span>history information is available in URI history.</span></span></dd>
<dt>sendIfNoneMatch</dt><dd><strong>(boolean) </strong><span><span>Send ‘If-None-Match’ header, if previous ‘Etag’ fetch history information</span><span></span><span>is available in URI history.</span></span></dd>
<dt>sendRange</dt><dd><strong>(boolean) </strong><span><span>Send ‘Range’ header when a limit (#setMaxLengthBytes(long)) on</span><span></span><span>document size.</span><span></span><p><span></span><span>Be polite to the HTTP servers and send the ‘Range’ header, stating that</span><span></span><span>you are only interested in the first n bytes. Only pertinent if</span><span></span><span>#getMaxLengthBytes() &gt; 0. Sending the ‘Range’ header results in a</span><span></span><span>’206 Partial Content’ status response, which is better than just cutting</span><span></span><span>the response mid-download. On rare occasion, sending ‘Range’ will</span><span></span><span>generate ‘416 Request Range Not Satisfiable’ response.</span></p>
</span></dd>
<dt>sendReferer</dt><dd><strong>(boolean) </strong><span><span>Send ‘Referer’ header with every request.</span><span></span><p><span></span><span>The ‘Referer’ header contans the location the crawler came from, the page</span><span></span><span>the current URI was discovered in. The ‘Referer’ usually is logged on the</span><span></span><span>remote server and can be of assistance to webmasters trying to figure how</span><span></span><span>a crawler got to a particular area on a site.</span></p>
</span></dd>
<dt>serverCache</dt><dd><strong>(org.archive.modules.net.ServerCache) </strong><span><span>Used to do DNS lookups.</span></span></dd>
<dt>shouldFetchBodyRule</dt><dd><strong>(org.archive.modules.deciderules.DecideRule) </strong><span><span>DecideRules applied after receipt of HTTP response headers but before we</span><span></span><span>start to download the body. If any filter returns FALSE, the fetch is</span><span></span><span>aborted. Prerequisites such as robots.txt by-pass filtering (i.e. they</span><span></span><span>cannot be midfetch aborted.</span></span></dd>
<dt>soTimeoutMs</dt><dd><strong>(int) </strong><span><span>If the socket is unresponsive for this number of milliseconds, give up.</span><span></span><span>Set to zero for no timeout (Not. recommended. Could hang a thread on an</span><span></span><span>unresponsive server). This timeout is used timing out socket opens and</span><span></span><span>for timing out each socket read. Make sure this value is &lt;</span><span></span><span>#getTimeoutSeconds() for optimal configuration: ensures at least one</span><span></span><span>retry read.</span></span></dd>
<dt>socksProxyHost</dt><dd><strong>(java.lang.String) </strong><span><span>Sets a SOCKS5 proxy host to use. This will override any set HTTP proxy.</span></span></dd>
<dt>socksProxyPort</dt><dd><strong>(java.lang.Integer) </strong><span><span>Sets a SOCKS5 proxy port to use.</span></span></dd>
<dt>sslTrustLevel</dt><dd><strong>(org.archive.httpclient.ConfigurableX509TrustManager.TrustLevel) </strong><span><span>SSL certificate trust level. Range is from the default ‘open’ (trust all</span><span></span><span>certs including expired, selfsigned, and those for which we do not have a</span><span></span><span>CA) through ‘loose’ (trust all valid certificates including selfsigned),</span><span></span><span>’normal’ (all valid certificates not including selfsigned) to ‘strict’</span><span></span><span>(Cert is valid and DN must match servername).</span></span></dd>
<dt>timeoutSeconds</dt><dd><strong>(int) </strong><span><span>If the fetch is not completed in this number of seconds, give up (and</span><span></span><span>retry later).</span></span></dd>
<dt>useHTTP11</dt><dd><strong>(boolean) </strong><span><span>Use HTTP/1.1. Note: even when offering an HTTP/1.1 request, </span><span></span><span>Heritrix may not properly handle persistent/keep-alive connections, </span><span></span><span>so the sendConnectionClose parameter should remain ‘true’.</span></span></dd>
<dt>userAgentProvider</dt><dd><strong>(org.archive.modules.fetcher.UserAgentProvider) </strong><span></span></dd>
</dl>
</section>
<section id="fetchhttp2">
<h3>FetchHTTP2<a class="headerlink" href="bean-reference.html#fetchhttp2" title="Permalink to this heading"></a></h3>
<p><span><span>HTTP Fetcher that uses Jetty HttpClient to support HTTP/2 and HTTP/3.</span><span></span><p><span></span><span>Does not record the original on-the-wire HTTP messages but instead a simplified HTTP/1.1</span><span></span><span>representation without transfer encoding.</span><span></span><p><span></span><strong><span>Note:</span></strong><span> The WARC standard (as of version 1.1) does not specify how to record HTTP/2 or HTTP/3 messages.</span><span></span><span>If you want to stay within the bounds of the base WARC standard without extensions, or want to ensure the exact</span><span></span><span>bytes of the HTTP network message are recorded, you may prefer to use FetchHTTP.</span></p>
</p>
</span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;fetchHTTP2&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.fetcher.FetchHTTP2&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;digestAlgorithm&quot; value=&quot;sha1&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;httpProxyHost&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;httpProxyPort&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;maxFetchKBSec&quot; value=&quot;0&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;maxLengthBytes&quot; value=&quot;0&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;timeoutSeconds&quot; value=&quot;20&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;useHTTP2&quot; value=&quot;true&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;useHTTP3&quot; value=&quot;false&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;userAgentProvider&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>digestAlgorithm</dt><dd><strong>(java.lang.String) </strong><span></span></dd>
<dt>httpProxyHost</dt><dd><strong>(java.lang.String) </strong><span><span>Proxy host IP (set only if needed).</span></span></dd>
<dt>httpProxyPort</dt><dd><strong>(java.lang.Integer) </strong><span><span>Proxy port (set only if needed).</span></span></dd>
<dt>maxFetchKBSec</dt><dd><strong>(int) </strong><span><span>The maximum KB/sec to use when fetching data from a server. The default</span><span></span><span>of 0 means no maximum.</span></span></dd>
<dt>maxLengthBytes</dt><dd><strong>(long) </strong><span><span>Maximum length in bytes to fetch. Fetch is truncated at this length. A</span><span></span><span>value of 0 means no limit.</span></span></dd>
<dt>timeoutSeconds</dt><dd><strong>(int) </strong><span></span></dd>
<dt>useHTTP2</dt><dd><strong>(boolean) </strong><span><span>Configures whether the HTTP/2 protocol is enabled.</span></span></dd>
<dt>useHTTP3</dt><dd><strong>(boolean) </strong><span><span>Configures whether HTTP/3 protocol should be enabled. Currently experimental and not enabled by default.</span></span></dd>
<dt>userAgentProvider</dt><dd><strong>(org.archive.modules.fetcher.UserAgentProvider) </strong><span></span></dd>
</dl>
</section>
<section id="fetchsftp">
<h3>FetchSFTP<a class="headerlink" href="bean-reference.html#fetchsftp" title="Permalink to this heading"></a></h3>
<p><span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;fetchSFTP&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.fetcher.FetchSFTP&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;digestAlgorithm&quot; value=&quot;sha1&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;digestContent&quot; value=&quot;true&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;extractFromDirs&quot; value=&quot;true&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;extractParent&quot; value=&quot;true&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;maxFetchKBSec&quot; value=&quot;0&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;maxLengthBytes&quot; value=&quot;0&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;password&quot; value=&quot;password&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;soTimeoutMs&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;timeoutSeconds&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;username&quot; value=&quot;anonymous&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>digestAlgorithm</dt><dd><strong>(java.lang.String) </strong><span><span>Which algorithm (for example MD5 or SHA-1) to use to perform an</span><span></span><span>on-the-fly digest hash of retrieved content-bodies.</span></span></dd>
<dt>digestContent</dt><dd><strong>(boolean) </strong><span><span>Whether or not to perform an on-the-fly digest hash of retrieved</span><span></span><span>content-bodies.</span></span></dd>
<dt>extractFromDirs</dt><dd><strong>(boolean) </strong><span><span>Set to true to extract further URIs from SFTP directories. Default is true.</span></span></dd>
<dt>extractParent</dt><dd><strong>(boolean) </strong><span><span>Set to true to extract the parent URI from all SFTP URIs. Default is true.</span></span></dd>
<dt>maxFetchKBSec</dt><dd><strong>(int) </strong><span><span>The maximum KB/sec to use when fetching data from a server. The default</span><span></span><span>of 0 means no maximum.</span></span></dd>
<dt>maxLengthBytes</dt><dd><strong>(long) </strong><span><span>Maximum length in bytes to fetch. Fetch is truncated at this length. A</span><span></span><span>value of 0 means no limit.</span></span></dd>
<dt>password</dt><dd><strong>(java.lang.String) </strong><span><span>The password to send to SFTP servers. By convention, anonymous users send</span><span></span><span>their email address in this field.</span></span></dd>
<dt>soTimeoutMs</dt><dd><strong>(int) </strong><span><span>If the socket is unresponsive for this number of milliseconds, give up.</span><span></span><span>Set to zero for no timeout (Not. recommended. Could hang a thread on an</span><span></span><span>unresponsive server). This timeout is used timing out socket opens and</span><span></span><span>for timing out each socket read. Make sure this value is &lt;</span><span></span><span>#getTimeoutSeconds() for optimal configuration: ensures at least one</span><span></span><span>retry read.</span></span></dd>
<dt>timeoutSeconds</dt><dd><strong>(int) </strong><span><span>If the fetch is not completed in this number of seconds, give up (and</span><span></span><span>retry later).</span></span></dd>
<dt>username</dt><dd><strong>(java.lang.String) </strong><span><span>The username to send to SFTP servers. By convention, the default value of</span><span></span><span>”anonymous” is used for publicly available SFTP sites.</span></span></dd>
</dl>
</section>
<section id="fetchwhois">
<h3>FetchWhois<a class="headerlink" href="bean-reference.html#fetchwhois" title="Permalink to this heading"></a></h3>
<p><span><span>WHOIS Fetcher (RFC 3912). If this fetcher is enabled, Heritrix will attempt</span><span></span><span>WHOIS lookups on the topmost assigned domain and the IP address of each URL.</span><p><span><span>WHOIS URIs</span></span><span></span><p><span></span><span>There is no pre-existing, canonical specification for WHOIS URIs. What</span><span></span><span>follows is the the format that Heritrix uses, which we propose for general</span><span></span><span>use.</span><span></span></p>
<p><span></span><span>Syntax in ABNF as used in RFC 3986 </span><em><span>Uniform Resource Identifier (URI):</span><span></span><span>Generic Syntax</span></em><span>:</span><span></span></p>
<p><span><span>whoisurl = “whois:” [ “//” host [ “:” port ] “/” ] whoisquery</span></span><p><span></span><strong><span>whoisquery</span></strong><span> is a url-encoded string. In ABNF,</span><span></span><code class="docutils literal notranslate"><span><span class="pre">whoisquery</span> <span class="pre">=</span> <span class="pre">1*pchar</span></span></code><span> where pchar is defined in RFC 3986.</span><span></span><strong><span>host</span></strong><span> and </span><strong><span>port</span></strong><span> also as defined in RFC 3986.</span><span></span></p>
<p><span></span><span>To resolve a WHOIS URI which specifies host[:port], open a TCP connection to</span><span></span><span>the host at the specified port (default 43), send the query (whoisquery,</span><span></span><span>url-decoded) followed by CRLF, and read the response until the server closes</span><span></span><span>the connection. For more details see RFC 3912.</span><span></span></p>
<p><span></span><span>Resolution of a “serverless” WHOIS URI, which does not specify host[:port],</span><span></span><span>is implementation-dependent.</span><span></span></p>
<p><span><span>Serverless WHOIS URIs in Heritrix</span></span><p><span></span><span>For each non-WHOIS URI processed which has an authority, FetchWhois adds 1 or</span><span></span><span>2 serverless WHOIS URIs to the CrawlURI’s outlinks. These are</span><span></span><span>”whois:{ipAddress}” and, if the authority includes a hostname,</span><span></span><span>”whois:{topLevelDomain}”. See #addWhoisLinks(CrawlURI).</span><span></span></p>
<p><span></span><span>Heritrix resolves serverless WHOIS URIs by first querying an initial server,</span><span></span><span>then following referrals to other servers. In pseudocode:</span><p><div class="highlight-text notranslate"><div class="highlight"><pre><span></span>if query is an IPv4 address    resolve whois://#DEFAULT_IP_WHOIS_SERVER/whoisqueryelse    let domainSuffix = part of query after the last &#39;.&#39; (or the whole query if no &#39;.&#39;), url-encoded    resolve whois://#ULTRA_SUFFIX_WHOIS_SERVER/domainSuffixwhile last response refers to another server, i.e. matches regex #WHOIS_SERVER_REGEX    if we have a special query formatting rule for this whois server, apply it - see #specialQueryTemplates    resolve whois://referralServer/whoisquery
</pre></div>
</div>
<p><span>See #deferOrFinishGeneric(CrawlURI, String)</span></p>
</p>
</p>
</p>
</p>
</p>
</span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;fetchWhois&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.fetcher.FetchWhois&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;bdbModule&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;serverCache&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;soTimeoutMs&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;specialQueryTemplates&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>bdbModule</dt><dd><strong>(org.archive.bdb.BdbModule) </strong><span></span></dd>
<dt>serverCache</dt><dd><strong>(org.archive.modules.net.ServerCache) </strong><span></span></dd>
<dt>soTimeoutMs</dt><dd><strong>(int) </strong><span><span>If the socket is unresponsive for this number of milliseconds, give up.</span><span></span><span>Set to zero for no timeout (Not. recommended. Could hang a thread on an</span><span></span><span>unresponsive server). This timeout is used timing out socket opens and</span><span></span><span>for timing out each socket read.</span></span></dd>
<dt>specialQueryTemplates</dt><dd><strong>(java.util.Map&lt;java.lang.String,java.lang.String&gt;) </strong><span></span></dd>
</dl>
</section>
</section>
<section id="link-extractors">
<h2>Link Extractors<a class="headerlink" href="bean-reference.html#link-extractors" title="Permalink to this heading"></a></h2>
<section id="extractorcss">
<h3>ExtractorCSS<a class="headerlink" href="bean-reference.html#extractorcss" title="Permalink to this heading"></a></h3>
<p><span><span>This extractor is parsing URIs from CSS type files.</span><span></span><span>The format of a CSS URL value is ‘url(’ followed by optional white space</span><span></span><span>followed by an optional single quote (’) or double quote (”) character</span><span></span><span>followed by the URL itself followed by an optional single quote (’) or</span><span></span><span>double quote (”) character followed by optional white space followed by ‘)’.</span><span></span><span>Parentheses, commas, white space characters, single quotes (’) and double</span><span></span><span>quotes (”) appearing in a URL must be escaped with a backslash:</span><span></span><span>’\(’, ‘\)’, ‘\,’. Partial URLs are interpreted relative to the source of</span><span></span><span>the style sheet, not relative to the document. </span><span><span></span><span>Source: www.w3.org</span></span><p><div class="admonition note">
<p class="admonition-title">Note</p>
<span> This processor may open a ReplayCharSequence from the </span></div>
<span></span><span>CrawlURI’s Recorder, without closing that ReplayCharSequence, to allow</span><span></span><span>reuse by later processors in sequence. In the usual (Heritrix) case, a </span><span></span><span>call after all processing to the Recorder’s endReplays() method ensures</span><span></span><span>timely close of any reused ReplayCharSequences. Reuse of this processor</span><span></span><span>elsewhere should ensure a similar cleanup call to Recorder.endReplays()</span><span></span><span>occurs.</span></p>
</span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;extractorCSS&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.extractor.ExtractorCSS&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;extractorParameters&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;loggerModule&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>extractorParameters</dt><dd><strong>(org.archive.modules.extractor.ExtractorParameters) </strong><span></span></dd>
<dt>loggerModule</dt><dd><strong>(org.archive.modules.extractor.UriErrorLoggerModule) </strong><span></span></dd>
</dl>
</section>
<section id="extractordoc">
<h3>ExtractorDOC<a class="headerlink" href="bean-reference.html#extractordoc" title="Permalink to this heading"></a></h3>
<p><span><span>This class allows the caller to extract href style links from word97-format word documents.</span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;extractorDOC&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.extractor.ExtractorDOC&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;extractorParameters&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;loggerModule&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>extractorParameters</dt><dd><strong>(org.archive.modules.extractor.ExtractorParameters) </strong><span></span></dd>
<dt>loggerModule</dt><dd><strong>(org.archive.modules.extractor.UriErrorLoggerModule) </strong><span></span></dd>
</dl>
</section>
<section id="extractorhtml">
<h3>ExtractorHTML<a class="headerlink" href="bean-reference.html#extractorhtml" title="Permalink to this heading"></a></h3>
<p><span><span>Basic link-extraction, from an HTML content-body,</span><span></span><span>using regular expressions.</span><p><div class="admonition note">
<p class="admonition-title">Note</p>
<span> This processor may open a ReplayCharSequence from the </span></div>
<span></span><span>CrawlURI’s Recorder, without closing that ReplayCharSequence, to allow</span><span></span><span>reuse by later processors in sequence. In the usual (Heritrix) case, a </span><span></span><span>call after all processing to the Recorder’s endReplays() method ensures</span><span></span><span>timely close of any reused ReplayCharSequences. Reuse of this processor</span><span></span><span>elsewhere should ensure a similar cleanup call to Recorder.endReplays()</span><span></span><span>occurs. </span><p><span></span><span></span><span>accuracy, completeness, and speed.</span></p>
</p>
</span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;extractorHTML&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.extractor.ExtractorHTML&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;extractJavascript&quot; value=&quot;true&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;extractOnlyFormGets&quot; value=&quot;true&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;extractValueAttributes&quot; value=&quot;true&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;extractorJS&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;extractorParameters&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;ignoreFormActionUrls&quot; value=&quot;false&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;ignoreUnexpectedHtml&quot; value=&quot;true&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;loggerModule&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;maxAttributeNameLength&quot; value=&quot;64&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;maxAttributeValLength&quot; value=&quot;2048&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;maxElementLength&quot; value=&quot;64&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;metadata&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;obeyRelNofollow&quot; value=&quot;false&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;treatFramesAsEmbedLinks&quot; value=&quot;true&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>extractJavascript</dt><dd><strong>(boolean) </strong><span><span>If true, in-page Javascript is scanned for strings that</span><span></span><span>appear likely to be URIs. This typically finds both valid</span><span></span><span>and invalid URIs, and attempts to fetch the invalid URIs</span><span></span><span>sometimes generates webmaster concerns over odd crawler</span><span></span><span>behavior. Default is true.</span></span></dd>
<dt>extractOnlyFormGets</dt><dd><strong>(boolean) </strong><span><span>If true, only ACTION URIs with a METHOD of GET (explicit or implied)</span><span></span><span>are extracted. Default is true.</span></span></dd>
<dt>extractValueAttributes</dt><dd><strong>(boolean) </strong><span><span>If true, strings that look like URIs found in unusual places (such as</span><span></span><span>form VALUE attributes) will be extracted. This typically finds both valid</span><span></span><span>and invalid URIs, and attempts to fetch the invalid URIs sometimes</span><span></span><span>generate webmaster concerns over odd crawler behavior. Default is true.</span></span></dd>
<dt>extractorJS</dt><dd><strong>(org.archive.modules.extractor.ExtractorJS) </strong><span><span>Javascript extractor to use to process inline javascript. Autowired if</span><span></span><span>available. If null, links will not be extracted from inline javascript.</span></span></dd>
<dt>extractorParameters</dt><dd><strong>(org.archive.modules.extractor.ExtractorParameters) </strong><span></span></dd>
<dt>ignoreFormActionUrls</dt><dd><strong>(boolean) </strong><span><span>If true, URIs appearing as the ACTION attribute in HTML FORMs are</span><span></span><span>ignored. Default is false.</span></span></dd>
<dt>ignoreUnexpectedHtml</dt><dd><strong>(boolean) </strong><span><span>If true, URIs which end in typical non-HTML extensions (such as .gif)</span><span></span><span>will not be scanned as if it were HTML. Default is true.</span></span></dd>
<dt>loggerModule</dt><dd><strong>(org.archive.modules.extractor.UriErrorLoggerModule) </strong><span></span></dd>
<dt>maxAttributeNameLength</dt><dd><strong>(int) </strong><span></span></dd>
<dt>maxAttributeValLength</dt><dd><strong>(int) </strong><span></span></dd>
<dt>maxElementLength</dt><dd><strong>(int) </strong><span></span></dd>
<dt>metadata</dt><dd><strong>(org.archive.modules.CrawlMetadata) </strong><span><span>CrawlMetadata provides the robots honoring policy to use when </span><span></span><span>considering a robots META tag.</span></span></dd>
<dt>obeyRelNofollow</dt><dd><strong>(boolean) </strong><span><span>If true links containing the “rel=nofollow” directive will not be extracted.</span></span></dd>
<dt>treatFramesAsEmbedLinks</dt><dd><strong>(boolean) </strong><span><span>If true, FRAME/IFRAME SRC-links are treated as embedded resources (like</span><span></span><span>IMG, ‘E’ hop-type), otherwise they are treated as navigational links.</span><span></span><span>Default is true.</span></span></dd>
</dl>
</section>
<section id="aggressiveextractorhtml">
<h3>AggressiveExtractorHTML<a class="headerlink" href="bean-reference.html#aggressiveextractorhtml" title="Permalink to this heading"></a></h3>
<p><span><span>Extended version of ExtractorHTML with more aggressive javascript link</span><span></span><span>extraction where javascript code is parsed first with general HTML tags</span><span></span><span>regex, and than by javascript speculative link regex.</span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;aggressiveExtractorHTML&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.extractor.AggressiveExtractorHTML&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;extractJavascript&quot; value=&quot;true&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;extractOnlyFormGets&quot; value=&quot;true&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;extractValueAttributes&quot; value=&quot;true&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;extractorJS&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;extractorParameters&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;ignoreFormActionUrls&quot; value=&quot;false&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;ignoreUnexpectedHtml&quot; value=&quot;true&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;loggerModule&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;maxAttributeNameLength&quot; value=&quot;64&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;maxAttributeValLength&quot; value=&quot;2048&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;maxElementLength&quot; value=&quot;64&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;metadata&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;obeyRelNofollow&quot; value=&quot;false&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;treatFramesAsEmbedLinks&quot; value=&quot;true&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>extractJavascript</dt><dd><strong>(boolean) </strong><span><span>If true, in-page Javascript is scanned for strings that</span><span></span><span>appear likely to be URIs. This typically finds both valid</span><span></span><span>and invalid URIs, and attempts to fetch the invalid URIs</span><span></span><span>sometimes generates webmaster concerns over odd crawler</span><span></span><span>behavior. Default is true.</span></span></dd>
<dt>extractOnlyFormGets</dt><dd><strong>(boolean) </strong><span><span>If true, only ACTION URIs with a METHOD of GET (explicit or implied)</span><span></span><span>are extracted. Default is true.</span></span></dd>
<dt>extractValueAttributes</dt><dd><strong>(boolean) </strong><span><span>If true, strings that look like URIs found in unusual places (such as</span><span></span><span>form VALUE attributes) will be extracted. This typically finds both valid</span><span></span><span>and invalid URIs, and attempts to fetch the invalid URIs sometimes</span><span></span><span>generate webmaster concerns over odd crawler behavior. Default is true.</span></span></dd>
<dt>extractorJS</dt><dd><strong>(org.archive.modules.extractor.ExtractorJS) </strong><span><span>Javascript extractor to use to process inline javascript. Autowired if</span><span></span><span>available. If null, links will not be extracted from inline javascript.</span></span></dd>
<dt>extractorParameters</dt><dd><strong>(org.archive.modules.extractor.ExtractorParameters) </strong><span></span></dd>
<dt>ignoreFormActionUrls</dt><dd><strong>(boolean) </strong><span><span>If true, URIs appearing as the ACTION attribute in HTML FORMs are</span><span></span><span>ignored. Default is false.</span></span></dd>
<dt>ignoreUnexpectedHtml</dt><dd><strong>(boolean) </strong><span><span>If true, URIs which end in typical non-HTML extensions (such as .gif)</span><span></span><span>will not be scanned as if it were HTML. Default is true.</span></span></dd>
<dt>loggerModule</dt><dd><strong>(org.archive.modules.extractor.UriErrorLoggerModule) </strong><span></span></dd>
<dt>maxAttributeNameLength</dt><dd><strong>(int) </strong><span></span></dd>
<dt>maxAttributeValLength</dt><dd><strong>(int) </strong><span></span></dd>
<dt>maxElementLength</dt><dd><strong>(int) </strong><span></span></dd>
<dt>metadata</dt><dd><strong>(org.archive.modules.CrawlMetadata) </strong><span><span>CrawlMetadata provides the robots honoring policy to use when </span><span></span><span>considering a robots META tag.</span></span></dd>
<dt>obeyRelNofollow</dt><dd><strong>(boolean) </strong><span><span>If true links containing the “rel=nofollow” directive will not be extracted.</span></span></dd>
<dt>treatFramesAsEmbedLinks</dt><dd><strong>(boolean) </strong><span><span>If true, FRAME/IFRAME SRC-links are treated as embedded resources (like</span><span></span><span>IMG, ‘E’ hop-type), otherwise they are treated as navigational links.</span><span></span><span>Default is true.</span></span></dd>
</dl>
</section>
<section id="jerichoextractorhtml">
<h3>JerichoExtractorHTML<a class="headerlink" href="bean-reference.html#jerichoextractorhtml" title="Permalink to this heading"></a></h3>
<p><span><span>Improved link-extraction from an HTML content-body using jericho-html parser.</span><span></span><span>This extractor extends ExtractorHTML and mimics its workflow - but has some</span><span></span><span>substantial differences when it comes to internal implementation. Instead</span><span></span><span>of heavily relying upon java regular expressions it uses a real html parser</span><span></span><span>library - namely Jericho HTML Parser (http://jerichohtml.sourceforge.net).</span><span></span><span>Using this parser it can better handle broken html (i.e. missing quotes)</span><span></span><span>and also offer improved extraction of HTML form URLs (not only extract</span><span></span><span>the action of a form, but also its default values).</span><span></span><span>Unfortunately this parser also has one major drawback - it has to read the</span><span></span><span>whole document into memory for parsing, thus has an inherent OOME risk.</span><span></span><span>This OOME risk can be reduced/eleminated by limiting the size of documents</span><span></span><span>to be parsed (i.e. using NotExceedsDocumentLengthTresholdDecideRule).</span><span></span><span>Also note that this extractor seems to have a lower overall memory </span><span></span><span>consumption compared to ExtractorHTML. (still to be confirmed on a larger </span><span></span><span>scale crawl)</span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;jerichoExtractorHTML&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.extractor.JerichoExtractorHTML&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;extractJavascript&quot; value=&quot;true&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;extractOnlyFormGets&quot; value=&quot;true&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;extractValueAttributes&quot; value=&quot;true&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;extractorJS&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;extractorParameters&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;ignoreFormActionUrls&quot; value=&quot;false&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;ignoreUnexpectedHtml&quot; value=&quot;true&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;loggerModule&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;maxAttributeNameLength&quot; value=&quot;64&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;maxAttributeValLength&quot; value=&quot;2048&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;maxElementLength&quot; value=&quot;64&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;metadata&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;obeyRelNofollow&quot; value=&quot;false&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;treatFramesAsEmbedLinks&quot; value=&quot;true&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>extractJavascript</dt><dd><strong>(boolean) </strong><span><span>If true, in-page Javascript is scanned for strings that</span><span></span><span>appear likely to be URIs. This typically finds both valid</span><span></span><span>and invalid URIs, and attempts to fetch the invalid URIs</span><span></span><span>sometimes generates webmaster concerns over odd crawler</span><span></span><span>behavior. Default is true.</span></span></dd>
<dt>extractOnlyFormGets</dt><dd><strong>(boolean) </strong><span><span>If true, only ACTION URIs with a METHOD of GET (explicit or implied)</span><span></span><span>are extracted. Default is true.</span></span></dd>
<dt>extractValueAttributes</dt><dd><strong>(boolean) </strong><span><span>If true, strings that look like URIs found in unusual places (such as</span><span></span><span>form VALUE attributes) will be extracted. This typically finds both valid</span><span></span><span>and invalid URIs, and attempts to fetch the invalid URIs sometimes</span><span></span><span>generate webmaster concerns over odd crawler behavior. Default is true.</span></span></dd>
<dt>extractorJS</dt><dd><strong>(org.archive.modules.extractor.ExtractorJS) </strong><span><span>Javascript extractor to use to process inline javascript. Autowired if</span><span></span><span>available. If null, links will not be extracted from inline javascript.</span></span></dd>
<dt>extractorParameters</dt><dd><strong>(org.archive.modules.extractor.ExtractorParameters) </strong><span></span></dd>
<dt>ignoreFormActionUrls</dt><dd><strong>(boolean) </strong><span><span>If true, URIs appearing as the ACTION attribute in HTML FORMs are</span><span></span><span>ignored. Default is false.</span></span></dd>
<dt>ignoreUnexpectedHtml</dt><dd><strong>(boolean) </strong><span><span>If true, URIs which end in typical non-HTML extensions (such as .gif)</span><span></span><span>will not be scanned as if it were HTML. Default is true.</span></span></dd>
<dt>loggerModule</dt><dd><strong>(org.archive.modules.extractor.UriErrorLoggerModule) </strong><span></span></dd>
<dt>maxAttributeNameLength</dt><dd><strong>(int) </strong><span></span></dd>
<dt>maxAttributeValLength</dt><dd><strong>(int) </strong><span></span></dd>
<dt>maxElementLength</dt><dd><strong>(int) </strong><span></span></dd>
<dt>metadata</dt><dd><strong>(org.archive.modules.CrawlMetadata) </strong><span><span>CrawlMetadata provides the robots honoring policy to use when </span><span></span><span>considering a robots META tag.</span></span></dd>
<dt>obeyRelNofollow</dt><dd><strong>(boolean) </strong><span><span>If true links containing the “rel=nofollow” directive will not be extracted.</span></span></dd>
<dt>treatFramesAsEmbedLinks</dt><dd><strong>(boolean) </strong><span><span>If true, FRAME/IFRAME SRC-links are treated as embedded resources (like</span><span></span><span>IMG, ‘E’ hop-type), otherwise they are treated as navigational links.</span><span></span><span>Default is true.</span></span></dd>
</dl>
</section>
<section id="extractorhtmlforms">
<h3>ExtractorHTMLForms<a class="headerlink" href="bean-reference.html#extractorhtmlforms" title="Permalink to this heading"></a></h3>
<p><span><span>Extracts extra information about FORMs in HTML, loading this</span><span></span><span>into the CrawlURI (for potential later use by FormLoginProcessor)</span><span></span><span>and adding a small annotation to the crawl.log. </span><p><span>Must come after ExtractorHTML, as it relies on information left</span><span></span><span>in the CrawlURI’s A_FORM_OFFSETS data key. </span><p><span>By default (with ‘extractAllForms’ equal false), only </span><span></span><span>saves-to-CrawlURI and annotates forms that appear to be login</span><span></span><span>forms, by the test HTMLForm.seemsLoginForm(). </span><p><span>Typical CXML configuration would be, first, as top-level named beans:</span><p><div class="highlight-text notranslate"><div class="highlight"><pre><span></span>{@code   &lt;property name=&quot;extractAllForms&quot; value=&quot;false&quot; /&gt;    generally these are overlaid with sheets rather than set directly    &lt;property name=&quot;applicableSurtPrefix&quot; value=&quot;&quot; /&gt;    &lt;property name=&quot;loginUsername&quot; value=&quot;&quot; /&gt;    &lt;property name=&quot;loginPassword&quot; value=&quot;&quot; /&gt;  }
</pre></div>
</div>
<p><span>Then, inside the fetch chain, after all other extractors:</span><p><div class="highlight-text notranslate"><div class="highlight"><pre><span></span>{@code      ...ALL USUAL PREPROCESSORS/FETCHERS/EXTRACTORS HERE, THEN...         }
</pre></div>
</div>
<p><div class="admonition note">
<p class="admonition-title">Note</p>
<span> This processor may open a ReplayCharSequence from the </span></div>
<span></span><span>CrawlURI’s Recorder, without closing that ReplayCharSequence, to allow</span><span></span><span>reuse by later processors in sequence. In the usual (Heritrix) case, a </span><span></span><span>call after all processing to the Recorder’s endReplays() method ensures</span><span></span><span>timely close of any reused ReplayCharSequences. Reuse of this processor</span><span></span><span>elsewhere should ensure a similar cleanup call to Recorder.endReplays()</span><span></span><span>occurs.</span></p>
</p>
</p>
</p>
</p>
</p>
</p>
</span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;extractorHTMLForms&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.forms.ExtractorHTMLForms&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;extractAllForms&quot; value=&quot;false&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;extractorParameters&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;loggerModule&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>extractAllForms</dt><dd><strong>(boolean) </strong><span><span>If true, report all FORMs. If false, report only those that</span><span></span><span>appear to be a login-enabling FORM.</span><span></span><span>Default is false.</span></span></dd>
<dt>extractorParameters</dt><dd><strong>(org.archive.modules.extractor.ExtractorParameters) </strong><span></span></dd>
<dt>loggerModule</dt><dd><strong>(org.archive.modules.extractor.UriErrorLoggerModule) </strong><span></span></dd>
</dl>
</section>
<section id="extractorhttp">
<h3>ExtractorHTTP<a class="headerlink" href="bean-reference.html#extractorhttp" title="Permalink to this heading"></a></h3>
<p><span><span>Extracts URIs from HTTP response headers.</span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;extractorHTTP&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.extractor.ExtractorHTTP&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;extractorParameters&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;inferPaths&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;inferRootPage&quot; value=&quot;false&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;loggerModule&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>extractorParameters</dt><dd><strong>(org.archive.modules.extractor.ExtractorParameters) </strong><span></span></dd>
<dt>inferPaths</dt><dd><strong>(java.util.List&lt;java.lang.String&gt;) </strong><span></span></dd>
<dt>inferRootPage</dt><dd><strong>(boolean) </strong><span><span>&#64;deprecated Deprecated in favor of #setInferPaths(List) which allows the specification of arbitrary</span><span></span><span>            paths and can be overridden with sheets.</span></span></dd>
<dt>loggerModule</dt><dd><strong>(org.archive.modules.extractor.UriErrorLoggerModule) </strong><span></span></dd>
</dl>
</section>
<section id="extractorimplieduri">
<h3>ExtractorImpliedURI<a class="headerlink" href="bean-reference.html#extractorimplieduri" title="Permalink to this heading"></a></h3>
<p><span><span>An extractor for finding ‘implied’ URIs inside other URIs.  If the </span><span></span><span>‘trigger’ regex is matched, a new URI will be constructed from the</span><span></span><span>’build’ replacement pattern. </span><p><span>Unlike most other extractors, this works on URIs discovered by </span><span></span><span>previous extractors. Thus it should appear near the end of any </span><span></span><span>set of extractors.</span><p><span>Initially, only finds absolute HTTP(S) URIs in query-string or its </span><span></span><span>parameters.</span><p><span></span></p>
</p>
</p>
</span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;extractorImpliedURI&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.extractor.ExtractorImpliedURI&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;extractorParameters&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;format&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;loggerModule&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;regex&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;removeTriggerUris&quot; value=&quot;false&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>extractorParameters</dt><dd><strong>(org.archive.modules.extractor.ExtractorParameters) </strong><span></span></dd>
<dt>format</dt><dd><strong>(java.lang.String) </strong><span><span>Replacement pattern to build ‘implied’ URI, using captured groups of</span><span></span><span>trigger expression.</span></span></dd>
<dt>loggerModule</dt><dd><strong>(org.archive.modules.extractor.UriErrorLoggerModule) </strong><span></span></dd>
<dt>regex</dt><dd><strong>(java.util.regex.Pattern) </strong><span><span>Triggering regular expression. When a discovered URI matches this</span><span></span><span>pattern, the ‘implied’ URI will be built. The capturing groups of this</span><span></span><span>expression are available for the build replacement pattern.</span></span></dd>
<dt>removeTriggerUris</dt><dd><strong>(boolean) </strong><span><span>If true, all URIs that match trigger regular expression are removed</span><span></span><span>from the list of extracted URIs. Default is false.</span></span></dd>
</dl>
</section>
<section id="extractorjs">
<h3>ExtractorJS<a class="headerlink" href="bean-reference.html#extractorjs" title="Permalink to this heading"></a></h3>
<p><span><span>Processes Javascript files for strings that are likely to be</span><span></span><span>crawlable URIs.</span><p><div class="admonition note">
<p class="admonition-title">Note</p>
<span> This processor may open a ReplayCharSequence from the </span></div>
<span></span><span>CrawlURI’s Recorder, without closing that ReplayCharSequence, to allow</span><span></span><span>reuse by later processors in sequence. In the usual (Heritrix) case, a </span><span></span><span>call after all processing to the Recorder’s endReplays() method ensures</span><span></span><span>timely close of any reused ReplayCharSequences. Reuse of this processor</span><span></span><span>elsewhere should ensure a similar cleanup call to Recorder.endReplays()</span><span></span><span>occurs. </span><p><span></span><span></span><span>browser-workalike DOM, such as via HtmlUnit or remote-controlled </span><span></span><span>browser engines.</span></p>
</p>
</span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;extractorJS&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.extractor.ExtractorJS&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;extractorParameters&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;loggerModule&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>extractorParameters</dt><dd><strong>(org.archive.modules.extractor.ExtractorParameters) </strong><span></span></dd>
<dt>loggerModule</dt><dd><strong>(org.archive.modules.extractor.UriErrorLoggerModule) </strong><span></span></dd>
</dl>
</section>
<section id="knowledgableextractorjs-contrib">
<h3>KnowledgableExtractorJS (contrib)<a class="headerlink" href="bean-reference.html#knowledgableextractorjs-contrib" title="Permalink to this heading"></a></h3>
<p><span><span>A subclass of ExtractorJS that has some customized behavior for</span><span></span><span>specific kinds of web pages. As of April 2015, the one special behavior it</span><span></span><span>has is for drupal generated pages. See https://webarchive.jira.com/browse/ARI-4190</span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;knowledgableExtractorJS&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.extractor.KnowledgableExtractorJS&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;extractorParameters&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;forceStrictIfUrlMatchingRegexList&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;loggerModule&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;maximumCandidateLength&quot; value=&quot;-1&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;rejectRelativeIgnoreList&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;rejectRelativeMatchingRegexList&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;rejectScriptAttributeRegexList&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;strict&quot; value=&quot;false&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>extractorParameters</dt><dd><strong>(org.archive.modules.extractor.ExtractorParameters) </strong><span></span></dd>
<dt>forceStrictIfUrlMatchingRegexList</dt><dd><strong>(java.util.List&lt;java.lang.String&gt;) </strong><span><span>Any URL that matches any of the regular expressions on this list will</span><span></span><span>be processed in strict mode, with only absolute URL extracted, not any relative ones.</span></span></dd>
<dt>loggerModule</dt><dd><strong>(org.archive.modules.extractor.UriErrorLoggerModule) </strong><span></span></dd>
<dt>maximumCandidateLength</dt><dd><strong>(int) </strong><span></span></dd>
<dt>rejectRelativeIgnoreList</dt><dd><strong>(java.util.Set&lt;java.lang.String&gt;) </strong><span></span></dd>
<dt>rejectRelativeMatchingRegexList</dt><dd><strong>(java.util.List&lt;java.lang.String&gt;) </strong><span><span>The list of regular expressions to evalute potential </span><span><span>relative</span></span><span> url against, rejecting any that match.</span></span></dd>
<dt>rejectScriptAttributeRegexList</dt><dd><strong>(java.util.List&lt;java.lang.String&gt;) </strong><span><span>List of regular expressions that will block extraction if matched against a script tag attribute.</span><span></span><span>When script blocks are extracted from HTML, the tag attributes are passed as the attributeContext parameter</span><span></span><span>to considerStrings. If any of the patterns on this list match the attributeContext, then the script block is not</span><span></span><span>processed.</span><span></span><span>This can be used to block processing of script blocks</span></span></dd>
<dt>strict</dt><dd><strong>(boolean) </strong><span></span></dd>
</dl>
</section>
<section id="extractormultipleregex">
<h3>ExtractorMultipleRegex<a class="headerlink" href="bean-reference.html#extractormultipleregex" title="Permalink to this heading"></a></h3>
<p><span><span>An extractor that uses regular expressions to find strings in the fetched</span><span></span><span>content of a URI, and constructs outlink URIs from those strings.</span><p><span></span><span>The crawl operator configures these parameters:</span><p><span><span></span><span><span> </span><code class="docutils literal notranslate"><span><span class="pre">uriRegex</span></span></code><span>: a regular expression to match against the url</span></span><span></span><span><span> </span><code class="docutils literal notranslate"><span><span class="pre">contentRegexes</span></span></code><span> a map of named regular expressions { name =&gt;</span><span></span><span>regex } to run against the content</span></span><span></span><span><span> </span><code class="docutils literal notranslate"><span><span class="pre">template</span></span></code><span>: the template for constructing the outlinks</span></span><span></span></span><p><span></span><span>The URI is checked against </span><code class="docutils literal notranslate"><span><span class="pre">uriRegex</span></span></code><span>. The match is done using</span><span></span><span>Matcher#matches(), so the full URI string must match, not just a</span><span></span><span>substring. If it does match, then the matching groups are available to the</span><span></span><span>URI-building template as </span><code class="docutils literal notranslate"><span><span class="pre">${uriRegex[n]}</span></span></code><span>. If it does not match,</span><span></span><span>processing of the URI is finished and no outlinks are extracted.</span><p><span></span><span>Then the extractor looks for matches for each of the</span><span></span><code class="docutils literal notranslate"><span><span class="pre">contentRegexes</span></span></code><span> in the fetched content. If any of the regular</span><span></span><span>expressions produce no matches, processing of the URI is finished and no</span><span></span><span>outlinks are extracted. If at least one match is found for each regular</span><span></span><span>expression, then an outlink is constructed, using the URI-building template,</span><span></span><span>for every combination of matches. The matching groups are available to the</span><span></span><span>template as </span><code class="docutils literal notranslate"><span><span class="pre">${name[n]}</span></span></code><span>.</span><p><span></span><span>Outlinks are constructed using the URI-building </span><code class="docutils literal notranslate"><span><span class="pre">template</span></span></code><span>.</span><span></span><span>Variable interpolation using the familiar ${…} syntax is supported. The</span><span></span><span>template is evaluated for each combination of regular expression matches</span><span></span><span>found, and the matching groups are available to the template as</span><span></span><code class="docutils literal notranslate"><span><span class="pre">${regexName[n]}</span></span></code><span>. An example template might look like:</span><span></span><code class="docutils literal notranslate"><span><span class="pre">http://example.org/${uriRegex[1]}/foo?bar=${myContentRegex[0]}</span></span></code><span>.</span><p><span></span><span>The template is evaluated as a Groovy Template, so further capabilities</span><span></span><span>beyond simple variable interpolation are available.</span><p><span>     href=”http://groovy.codehaus.org/Groovy+Templates”&gt;http://groovy.codehaus.org/Groovy+Templates</span></p>
</p>
</p>
</p>
</p>
</p>
</p>
</span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;extractorMultipleRegex&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.extractor.ExtractorMultipleRegex&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;contentRegexes&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;extractorParameters&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;loggerModule&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;template&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;uriRegex&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>contentRegexes</dt><dd><strong>(java.util.Map&lt;java.lang.String,java.lang.String&gt;) </strong><span><span>A map of { name =&gt; regex }. The extractor looks for matches for each</span><span></span><span>regular expression in the content of the URI being processed. If any of</span><span></span><span>the regular expressions produce no matches, processing of the URI is</span><span></span><span>finished and no outlinks are extracted. If at least one match is found</span><span></span><span>for each regular expression, then an outlink is constructed for every</span><span></span><span>combination of matches. The matching groups are available to the</span><span></span><span>URI-building template as </span><code class="docutils literal notranslate"><span><span class="pre">${name[n]}</span></span></code><span>.</span></span></dd>
<dt>extractorParameters</dt><dd><strong>(org.archive.modules.extractor.ExtractorParameters) </strong><span></span></dd>
<dt>loggerModule</dt><dd><strong>(org.archive.modules.extractor.UriErrorLoggerModule) </strong><span></span></dd>
<dt>template</dt><dd><strong>(java.lang.String) </strong><span><span>URI-building template. Provides variable interpolation using the familiar</span><span></span><span>${…} syntax. The template is evaluated for each combination of regular</span><span></span><span>expression matches found, and the matching groups are available to the</span><span></span><span>template as </span><code class="docutils literal notranslate"><span><span class="pre">${regexName[n]}</span></span></code><span>. An example template might look</span><span></span><span>like:</span><span></span><code class="docutils literal notranslate"><span><span class="pre">http://example.org/${uriRegex[1]}/foo?bar=${myContentRegex[0]}</span></span></code><span>.</span><p><span></span><span>The template is evaluated as a Groovy Template, so further capabilities</span><span></span><span>beyond simple variable interpolation are available.</span><p><span>     href=”http://groovy.codehaus.org/Groovy+Templates”&gt;http://groovy.codehaus.org/Groovy+Templates</span></p>
</p>
</span></dd>
<dt>uriRegex</dt><dd><strong>(java.lang.String) </strong><span><span>Regular expression against which to match the URI. If the URI matches,</span><span></span><span>then the matching groups are available to the URI-building template as</span><span></span><code class="docutils literal notranslate"><span><span class="pre">${uriRegex[n]}</span></span></code><span>. If it does not match, processing of this URI</span><span></span><span>is finished and no outlinks are extracted.</span></span></dd>
</dl>
</section>
<section id="extractorpdf">
<h3>ExtractorPDF<a class="headerlink" href="bean-reference.html#extractorpdf" title="Permalink to this heading"></a></h3>
<p><span><span>Allows the caller to process a CrawlURI representing a PDF</span><span></span><span> for the purpose of extracting URIs</span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;extractorPDF&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.extractor.ExtractorPDF&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;extractorParameters&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;loggerModule&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;maxSizeToParse&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>extractorParameters</dt><dd><strong>(org.archive.modules.extractor.ExtractorParameters) </strong><span></span></dd>
<dt>loggerModule</dt><dd><strong>(org.archive.modules.extractor.UriErrorLoggerModule) </strong><span></span></dd>
<dt>maxSizeToParse</dt><dd><strong>(long) </strong><span><span>The maximum size of PDF files to consider.  PDFs larger than this</span><span></span><span>maximum will not be searched for links.</span></span></dd>
</dl>
</section>
<section id="extractorpdfcontent-contrib">
<h3>ExtractorPDFContent (contrib)<a class="headerlink" href="bean-reference.html#extractorpdfcontent-contrib" title="Permalink to this heading"></a></h3>
<p><span><span>PDF Content Extractor. This will parse the text content of a PDF and apply a</span><span></span><span>regex to search for links within the body of the text.</span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;extractorPDFContent&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.extractor.ExtractorPDFContent&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;extractorParameters&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;loggerModule&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;maxSizeToParse&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>extractorParameters</dt><dd><strong>(org.archive.modules.extractor.ExtractorParameters) </strong><span></span></dd>
<dt>loggerModule</dt><dd><strong>(org.archive.modules.extractor.UriErrorLoggerModule) </strong><span></span></dd>
<dt>maxSizeToParse</dt><dd><strong>(long) </strong><span><span>The maximum size of PDF files to consider.  PDFs larger than this</span><span></span><span>maximum will not be searched for links.</span></span></dd>
</dl>
</section>
<section id="extractorrobotstxt">
<h3>ExtractorRobotsTxt<a class="headerlink" href="bean-reference.html#extractorrobotstxt" title="Permalink to this heading"></a></h3>
<p><span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;extractorRobotsTxt&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.extractor.ExtractorRobotsTxt&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;extractorParameters&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;loggerModule&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>extractorParameters</dt><dd><strong>(org.archive.modules.extractor.ExtractorParameters) </strong><span></span></dd>
<dt>loggerModule</dt><dd><strong>(org.archive.modules.extractor.UriErrorLoggerModule) </strong><span></span></dd>
</dl>
</section>
<section id="extractorsitemap">
<h3>ExtractorSitemap<a class="headerlink" href="bean-reference.html#extractorsitemap" title="Permalink to this heading"></a></h3>
<p><span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;extractorSitemap&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.extractor.ExtractorSitemap&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;enableLenientExtraction&quot; value=&quot;false&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;extractorParameters&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;loggerModule&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;urlPattern&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>enableLenientExtraction</dt><dd><strong>(boolean) </strong><span><span>If true, all urls in the sitemap file are extracted, regardless of whether or not they obey the scoping rules</span><span></span><span>specified in the sitemap protocol (https://www.sitemaps.org/protocol.html).</span><span></span><span>&#64;param enableLenientExtraction whether to extract all urls</span></span></dd>
<dt>extractorParameters</dt><dd><strong>(org.archive.modules.extractor.ExtractorParameters) </strong><span></span></dd>
<dt>loggerModule</dt><dd><strong>(org.archive.modules.extractor.UriErrorLoggerModule) </strong><span></span></dd>
<dt>urlPattern</dt><dd><strong>(java.lang.String) </strong><span><span>If urlPattern is not null then any url marked as a sitemap and matching the pattern is</span><span></span><span>assumed to be a sitemap. Otherwise the mime-type is checked (must be “text/xml” or “application/xml”) and the</span><span></span><span>file is “sniffed” for the expected start of a sitemap file.</span><span></span><span>&#64;param urlPattern the url pattern to match</span></span></dd>
</dl>
</section>
<section id="extractorswf">
<h3>ExtractorSWF<a class="headerlink" href="bean-reference.html#extractorswf" title="Permalink to this heading"></a></h3>
<p><span><span>Extracts URIs from SWF (flash/shockwave) files.</span><p><span>To test, here is a link to an swf that has links</span><span></span><span>embedded inside of it: http://www.hitspring.com/index.swf.</span></p>
</span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;extractorSWF&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.extractor.ExtractorSWF&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;extractorJS&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;extractorParameters&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;loggerModule&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>extractorJS</dt><dd><strong>(org.archive.modules.extractor.ExtractorJS) </strong><span><span>Javascript extractor to use to process inline javascript. Autowired if</span><span></span><span>available. If null, links will not be extracted from inline javascript.</span></span></dd>
<dt>extractorParameters</dt><dd><strong>(org.archive.modules.extractor.ExtractorParameters) </strong><span></span></dd>
<dt>loggerModule</dt><dd><strong>(org.archive.modules.extractor.UriErrorLoggerModule) </strong><span></span></dd>
</dl>
</section>
<section id="extractoruniversal">
<h3>ExtractorUniversal<a class="headerlink" href="bean-reference.html#extractoruniversal" title="Permalink to this heading"></a></h3>
<p><span><span>A last ditch extractor that will look at the raw byte code and try to extract</span><span></span><span>anything that </span><em><span>looks</span></em><span> like a link.</span><p><span>If used, it should always be specified as the last link extractor in the</span><span></span><span>order file.</span><span></span><p><span></span><span>To accomplish this it will scan through the bytecode and try and build up</span><span></span><span>strings of consecutive bytes that all represent characters that are valid</span><span></span><span>in a URL (see #isURLableChar(int) for details).</span><span></span><span>Once it hits the end of such a string (i.e. finds a character that</span><span></span><span>should not be in a URL) it will try to determine if it has found a URL.</span><span></span><span>This is done be seeing if the string is an IP address prefixed with</span><span></span><span>http(s):// or contains a dot followed by a Top Level Domain and end of</span><span></span><span>string or a slash.</span></p>
</p>
</span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;extractorUniversal&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.extractor.ExtractorUniversal&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;extractorParameters&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;loggerModule&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;maxSizeToParse&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>extractorParameters</dt><dd><strong>(org.archive.modules.extractor.ExtractorParameters) </strong><span></span></dd>
<dt>loggerModule</dt><dd><strong>(org.archive.modules.extractor.UriErrorLoggerModule) </strong><span></span></dd>
<dt>maxSizeToParse</dt><dd><strong>(long) </strong><span><span>How deep to look into files for URI strings, in bytes.</span></span></dd>
</dl>
</section>
<section id="extractoruri">
<h3>ExtractorURI<a class="headerlink" href="bean-reference.html#extractoruri" title="Permalink to this heading"></a></h3>
<p><span><span>An extractor for finding URIs inside other URIs. Unlike most other</span><span></span><span>extractors, this works on URIs discovered by previous extractors. Thus </span><span></span><span>it should appear near the end of any set of extractors.</span><p><span>Initially, only finds absolute HTTP(S) URIs in query-string or its </span><span></span><span>parameters.</span><p><span></span></p>
</p>
</span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;extractorURI&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.extractor.ExtractorURI&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;extractorParameters&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;loggerModule&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>extractorParameters</dt><dd><strong>(org.archive.modules.extractor.ExtractorParameters) </strong><span></span></dd>
<dt>loggerModule</dt><dd><strong>(org.archive.modules.extractor.UriErrorLoggerModule) </strong><span></span></dd>
</dl>
</section>
<section id="extractorxml">
<h3>ExtractorXML<a class="headerlink" href="bean-reference.html#extractorxml" title="Permalink to this heading"></a></h3>
<p><span><span>A simple extractor which finds HTTP URIs inside XML/RSS files,</span><span></span><span>inside attribute values and simple elements (those with only</span><span></span><span>whitespace + HTTP URI + whitespace as contents).</span><p><div class="admonition note">
<p class="admonition-title">Note</p>
<span> This processor may open a ReplayCharSequence from the </span></div>
<span></span><span>CrawlURI’s Recorder, without closing that ReplayCharSequence, to allow</span><span></span><span>reuse by later processors in sequence. In the usual (Heritrix) case, a </span><span></span><span>call after all processing to the Recorder’s endReplays() method ensures</span><span></span><span>timely close of any reused ReplayCharSequences. Reuse of this processor</span><span></span><span>elsewhere should ensure a similar cleanup call to Recorder.endReplays()</span><span></span><span>occurs.</span></p>
</span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;extractorXML&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.extractor.ExtractorXML&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;extractorParameters&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;loggerModule&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>extractorParameters</dt><dd><strong>(org.archive.modules.extractor.ExtractorParameters) </strong><span></span></dd>
<dt>loggerModule</dt><dd><strong>(org.archive.modules.extractor.UriErrorLoggerModule) </strong><span></span></dd>
</dl>
</section>
<section id="extractoryoutubedl-contrib">
<h3>ExtractorYoutubeDL (contrib)<a class="headerlink" href="bean-reference.html#extractoryoutubedl-contrib" title="Permalink to this heading"></a></h3>
<p><span><span>Extracts links to media by running yt-dlp in a subprocess. Runs only on html.</span><p><span></span><span>Also implements WARCRecordBuilder to write yt-dlp json to the</span><span></span><span>warc.</span><p><span></span><span>To use </span><code class="docutils literal notranslate"><span><span class="pre">ExtractorYoutubeDL</span></span></code><span>, add this top-level bean:</span><p><div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&lt;bean id=&quot;extractorYoutubeDL&quot; class=&quot;org.archive.modules.extractor.ExtractorYoutubeDL&quot;/&gt;
</pre></div>
</div>
<p><span>Then add </span><code class="docutils literal notranslate"><span><span class="pre">&lt;ref</span> <span class="pre">bean=&quot;extractorYoutubeDL&quot;/&gt;</span></span></code><span> to end of the</span><span></span><span>fetch chain, and to the end of the warc writer chain.</span><p><span></span><span>Keeps a log of containing pages and media captured as a result of yt-dlp</span><span></span><span>extraction. The format of the log is as follows:</span><p><div class="highlight-text notranslate"><div class="highlight"><pre><span></span>[timestamp] [media-http-status] [media-length] [media-mimetype] [media-digest] [media-timestamp] [media-url] [annotation] [containing-page-digest] [containing-page-timestamp] [containing-page-url] [seed-url]
</pre></div>
</div>
<p><span></span><span>For containing pages, all of the </span><code class="docutils literal notranslate"><span><span class="pre">media-*</span></span></code><span> fields have the value</span><span></span><code class="docutils literal notranslate"><span><span class="pre">&quot;-&quot;</span></span></code><span>, and the annotation field looks like </span><code class="docutils literal notranslate"><span><span class="pre">&quot;youtube-dl:3&quot;</span></span></code><span>,</span><span></span><span>meaning that ExtractorYoutubeDL extracted 3 media links from the page.</span><p><span></span><span>For media, the annotation field looks like </span><code class="docutils literal notranslate"><span><span class="pre">&quot;youtube-dl:1/3&quot;</span></span></code><span>, meaning</span><span></span><span>this is the first of three media links extracted from the containing page.</span><span></span><span>The intention is to use this for playback. The rest of the fields included in</span><span></span><span>the log were also chosen to support creation of an index of media by</span><span></span><span>containing page, to be used for playback.</span></p>
</p>
</p>
</p>
</p>
</p>
</p>
</p>
</span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;extractorYoutubeDL&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.extractor.ExtractorYoutubeDL&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;crawlController&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;crawlerLoggerModule&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;extractorParameters&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;logMetadataRecord&quot; value=&quot;true&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;loggerModule&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;processArguments&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>crawlController</dt><dd><strong>(org.archive.crawler.framework.CrawlController) </strong><span></span></dd>
<dt>crawlerLoggerModule</dt><dd><strong>(org.archive.crawler.reporting.CrawlerLoggerModule) </strong><span></span></dd>
<dt>extractorParameters</dt><dd><strong>(org.archive.modules.extractor.ExtractorParameters) </strong><span></span></dd>
<dt>logMetadataRecord</dt><dd><strong>(boolean) </strong><span><span>Whether or not to create a crawl.log entry for any WARC Metadata Records written.</span></span></dd>
<dt>loggerModule</dt><dd><strong>(org.archive.modules.extractor.UriErrorLoggerModule) </strong><span></span></dd>
<dt>processArguments</dt><dd><strong>(java.util.List&lt;java.lang.String&gt;) </strong><span></span></dd>
</dl>
</section>
<section id="extractoryoutubeformatstream-contrib">
<h3>ExtractorYoutubeFormatStream (contrib)<a class="headerlink" href="bean-reference.html#extractoryoutubeformatstream-contrib" title="Permalink to this heading"></a></h3>
<p><span><span>Youtube stream URI extractor. This will check the content of the youtube</span><span></span><span>watch page looking for the url_encoded_fmt_stream_map json value. The json</span><span></span><span>object is decoded and the stream URIs are constructed and queued.</span><p><div class="highlight-text notranslate"><div class="highlight"><pre><span></span>{@code   enable via sheet for http://(com,youtube,         38  MP4 3072p (Discontinued)     37  MP4 1080p (Discontinued)     22  MP4 720p     18  MP4 270p/360p     35  FLV 480p (Discontinued)     34  FLV 360p (Discontinued)     36  3GP 240p     5  FLV 240p     17  3GP 144p    }
</pre></div>
</div>
</p>
</span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;extractorYoutubeFormatStream&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.extractor.ExtractorYoutubeFormatStream&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;extractLimit&quot; value=&quot;1&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;extractorParameters&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;itagPriority&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;loggerModule&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>extractLimit</dt><dd><strong>(java.lang.Integer) </strong><span><span>Maximum number of video urls to extract. A value of 0 means extract all</span><span></span><span>discovered video urls. Default is 1.</span></span></dd>
<dt>extractorParameters</dt><dd><strong>(org.archive.modules.extractor.ExtractorParameters) </strong><span></span></dd>
<dt>itagPriority</dt><dd><strong>(java.util.List&lt;java.lang.String&gt;) </strong><span><span>Itag priority list. Youtube itag parameter specifies the video and audio</span><span></span><span>format and quality. The default is an empty list, which tells the</span><span></span><span>extractor to extract up to extractLimit video urls. When the list is not</span><span></span><span>empty, only video urls with itag values in the list are extracted.</span><p><span>     href=”http://en.wikipedia.org/wiki/YouTube”&gt;http://en.wikipedia.org/wiki/YouTube</span></p>
</span></dd>
<dt>loggerModule</dt><dd><strong>(org.archive.modules.extractor.UriErrorLoggerModule) </strong><span></span></dd>
</dl>
</section>
<section id="extractoryoutubechannelformatstream-contrib">
<h3>ExtractorYoutubeChannelFormatStream (contrib)<a class="headerlink" href="bean-reference.html#extractoryoutubechannelformatstream-contrib" title="Permalink to this heading"></a></h3>
<p><span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;extractorYoutubeChannelFormatStream&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.extractor.ExtractorYoutubeChannelFormatStream&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;extractLimit&quot; value=&quot;1&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;extractorParameters&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;itagPriority&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;loggerModule&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>extractLimit</dt><dd><strong>(java.lang.Integer) </strong><span><span>Maximum number of video urls to extract. A value of 0 means extract all</span><span></span><span>discovered video urls. Default is 1.</span></span></dd>
<dt>extractorParameters</dt><dd><strong>(org.archive.modules.extractor.ExtractorParameters) </strong><span></span></dd>
<dt>itagPriority</dt><dd><strong>(java.util.List&lt;java.lang.String&gt;) </strong><span><span>Itag priority list. Youtube itag parameter specifies the video and audio</span><span></span><span>format and quality. The default is an empty list, which tells the</span><span></span><span>extractor to extract up to extractLimit video urls. When the list is not</span><span></span><span>empty, only video urls with itag values in the list are extracted.</span><p><span>     href=”http://en.wikipedia.org/wiki/YouTube”&gt;http://en.wikipedia.org/wiki/YouTube</span></p>
</span></dd>
<dt>loggerModule</dt><dd><strong>(org.archive.modules.extractor.UriErrorLoggerModule) </strong><span></span></dd>
</dl>
</section>
<section id="trapsuppressextractor">
<h3>TrapSuppressExtractor<a class="headerlink" href="bean-reference.html#trapsuppressextractor" title="Permalink to this heading"></a></h3>
<p><span><span>Pseudo-extractor that suppresses link-extraction of likely trap pages,</span><span></span><span>by noticing when content’s digest is identical to that of its ‘via’.</span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;trapSuppressExtractor&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.extractor.TrapSuppressExtractor&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;extractorParameters&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;loggerModule&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>extractorParameters</dt><dd><strong>(org.archive.modules.extractor.ExtractorParameters) </strong><span></span></dd>
<dt>loggerModule</dt><dd><strong>(org.archive.modules.extractor.UriErrorLoggerModule) </strong><span></span></dd>
</dl>
</section>
</section>
<section id="browser-processor">
<h2>Browser Processor<a class="headerlink" href="bean-reference.html#browser-processor" title="Permalink to this heading"></a></h2>
<section id="browserprocessor">
<h3>BrowserProcessor<a class="headerlink" href="bean-reference.html#browserprocessor" title="Permalink to this heading"></a></h3>
<p><span><span>Opens a web page in a local web browser via WebDriver BiDi and runs Behaviors to interact with the page.</span><span></span><span>Subresources loaded by the browser are recorded using a HTTP proxy. Must be used in conjunction with</span><span></span><span>FetchHTTP2. Normally defined in the FetchChain after the link extractors.</span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;browserProcessor&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.crawler.processor.BrowserProcessor&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;behaviors&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;concurrency&quot; value=&quot;20&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;executable&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;options&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>behaviors</dt><dd><strong>(java.util.List&lt;org.archive.modules.behaviors.Behavior&gt;) </strong><span><span>A list of Behaviors to run on each page.</span></span></dd>
<dt>concurrency</dt><dd><strong>(int) </strong><span><span>Maximum number of web pages that can be open in the browser at once.</span></span></dd>
<dt>executable</dt><dd><strong>(java.lang.String) </strong><span><span>Webdriver executable to launch. If null, will try several common paths.</span><span></span><p><span></span><span>Firefox can be used directly as it implements WebDriver BiDI natively. To use Chrome set this to a</span><span></span><span><span>ChromeDriver</span></span><span> executable.</span></p>
</span></dd>
<dt>options</dt><dd><strong>(java.util.List&lt;java.lang.String&gt;) </strong><span><span>Extra command-line options to be passed to the webdriver executable.</span></span></dd>
</dl>
</section>
<section id="extractlinksbehavior">
<h3>ExtractLinksBehavior<a class="headerlink" href="bean-reference.html#extractlinksbehavior" title="Permalink to this heading"></a></h3>
<p><span><span>Extracts navigation links from the loaded page using JavaScript.</span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;extractLinksBehavior&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.behaviors.ExtractLinksBehavior&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl class="simple">
</dl>
</section>
<section id="scrolldownbehavior">
<h3>ScrollDownBehavior<a class="headerlink" href="bean-reference.html#scrolldownbehavior" title="Permalink to this heading"></a></h3>
<p><span><span>Scrolls the page down until it reaches the bottom (or until a timeout is reached).</span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;scrollDownBehavior&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.behaviors.ScrollDownBehavior&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;scrollInterval&quot; value=&quot;50&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;timeout&quot; value=&quot;5000&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>scrollInterval</dt><dd><strong>(int) </strong><span><span>How many milliseconds to wait between each scroll step.</span></span></dd>
<dt>timeout</dt><dd><strong>(long) </strong><span><span>Maximum time to wait to reach the bottom of the page, in milliseconds.</span></span></dd>
</dl>
</section>
</section>
<section id="post-processors">
<h2>Post-Processors<a class="headerlink" href="bean-reference.html#post-processors" title="Permalink to this heading"></a></h2>
<section id="candidatesprocessor">
<h3>CandidatesProcessor<a class="headerlink" href="bean-reference.html#candidatesprocessor" title="Permalink to this heading"></a></h3>
<p><span><span>Processor which sends all candidate outlinks through the </span><span></span><span>CandidateChain, scheduling those with non-negative status</span><span></span><span>codes to the frontier. Also performs special handling for</span><span></span><span>’discovered seeds’ – URIs, as with redirects from seeds, </span><span></span><span>that may deserve special treatment to expand the scope.</span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;candidatesProcessor&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.crawler.postprocessor.CandidatesProcessor&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;candidateChain&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;frontier&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;loggerModule&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;processErrorOutlinks&quot; value=&quot;false&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;seeds&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;seedsRedirectNewSeeds&quot; value=&quot;true&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;seedsRedirectNewSeedsAllowTLDs&quot; value=&quot;true&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;sheetOverlaysManager&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>candidateChain</dt><dd><strong>(org.archive.modules.CandidateChain) </strong><span><span>Candidate chain</span></span></dd>
<dt>frontier</dt><dd><strong>(org.archive.crawler.framework.Frontier) </strong><span><span>The frontier to use.</span></span></dd>
<dt>loggerModule</dt><dd><strong>(org.archive.crawler.reporting.CrawlerLoggerModule) </strong><span></span></dd>
<dt>processErrorOutlinks</dt><dd><strong>(boolean) </strong><span><span>If true, outlinks from status codes &lt;200 and &gt;=400</span><span></span><span>will be sent through candidates processing. Default is</span><span></span><span>false.</span></span></dd>
<dt>seeds</dt><dd><strong>(org.archive.modules.seeds.SeedModule) </strong><span></span></dd>
<dt>seedsRedirectNewSeeds</dt><dd><strong>(boolean) </strong><span><span>If enabled, any URL found because a seed redirected to it (original seed</span><span></span><span>returned 301 or 302), will also be treated as a seed, as long as the hop</span><span></span><span>count is less than {&#64;value #SEEDS_REDIRECT_NEW_SEEDS_MAX_HOPS}.</span></span></dd>
<dt>seedsRedirectNewSeedsAllowTLDs</dt><dd><strong>(boolean) </strong><span><span>If enabled, any URL found because a seed redirected to it (original seed</span><span></span><span>returned 301 or 302), will also be treated as a seed, as long as the hop</span><span></span><span>count is less than {&#64;value #SEEDS_REDIRECT_NEW_SEEDS_MAX_HOPS}.</span></span></dd>
<dt>sheetOverlaysManager</dt><dd><strong>(org.archive.crawler.spring.SheetOverlaysManager) </strong><span></span></dd>
</dl>
</section>
<section id="dispositionprocessor">
<h3>DispositionProcessor<a class="headerlink" href="bean-reference.html#dispositionprocessor" title="Permalink to this heading"></a></h3>
<p><span><span>A step, late in the processing of a CrawlURI, for marking-up the </span><span></span><span>CrawlURI with values to affect frontier disposition, and updating</span><span></span><span>information that may have been affected by the fetch. This includes</span><span></span><span>robots info and other stats. </span><p><span>(Formerly called CrawlStateUpdater, when it did less.)</span></p>
</span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;dispositionProcessor&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.crawler.postprocessor.DispositionProcessor&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;delayFactor&quot; value=&quot;5.0&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;forceRetire&quot; value=&quot;false&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;maxDelayMs&quot; value=&quot;30000&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;maxPerHostBandwidthUsageKbSec&quot; value=&quot;0&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;metadata&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;minDelayMs&quot; value=&quot;3000&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;respectCrawlDelayUpToSeconds&quot; value=&quot;300&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;serverCache&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>delayFactor</dt><dd><strong>(float) </strong><span><span>How many multiples of last fetch elapsed time to wait before recontacting</span><span></span><span>same server.</span></span></dd>
<dt>forceRetire</dt><dd><strong>(boolean) </strong><span><span>Whether to set a CrawlURI’s force-retired directive, retiring</span><span></span><span>its queue when it finishes. Mainly intended for URI-specific</span><span></span><span>overlay settings; setting true globally will just retire all queues</span><span></span><span>after they offer one URI, rapidly ending a crawl.</span></span></dd>
<dt>maxDelayMs</dt><dd><strong>(int) </strong><span><span>never wait more than this long, regardless of multiple</span></span></dd>
<dt>maxPerHostBandwidthUsageKbSec</dt><dd><strong>(int) </strong><span><span>maximum per-host bandwidth usage</span></span></dd>
<dt>metadata</dt><dd><strong>(org.archive.modules.CrawlMetadata) </strong><span><span>Auto-discovered module providing configured (or overridden)</span><span></span><span>User-Agent value and RobotsHonoringPolicy</span></span></dd>
<dt>minDelayMs</dt><dd><strong>(int) </strong><span><span>always wait this long after one completion before recontacting same</span><span></span><span>server, regardless of multiple</span></span></dd>
<dt>respectCrawlDelayUpToSeconds</dt><dd><strong>(int) </strong><span><span>Whether to respect a ‘Crawl-Delay’ (in seconds) given in a site’s</span><span></span><span>robots.txt</span></span></dd>
<dt>serverCache</dt><dd><strong>(org.archive.modules.net.ServerCache) </strong><span></span></dd>
</dl>
</section>
<section id="reschedulingprocessor">
<h3>ReschedulingProcessor<a class="headerlink" href="bean-reference.html#reschedulingprocessor" title="Permalink to this heading"></a></h3>
<p><span><span>The most simple forced-rescheduling step possible: use a local</span><span></span><span>setting (perhaps overlaid to vary based on the URI) to set an exact</span><span></span><span>future reschedule time, as a delay from now. Unless the </span><span></span><span>reschedulDelaySeconds value is changed from its default, URIs </span><span></span><span>are not rescheduled.</span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;reschedulingProcessor&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.crawler.postprocessor.ReschedulingProcessor&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;rescheduleDelaySeconds&quot; value=&quot;-1&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>rescheduleDelaySeconds</dt><dd><strong>(long) </strong><span><span>amount of time to wait before forcing a URI to be rescheduled</span><span></span><span>default of -1 means “don’t reschedule”</span></span></dd>
</dl>
</section>
<section id="warcwriterchainprocessor">
<h3>WARCWriterChainProcessor<a class="headerlink" href="bean-reference.html#warcwriterchainprocessor" title="Permalink to this heading"></a></h3>
<p><span><span>WARC writer processor. The types of records that to be written can be</span><span></span><span>configured by including or excluding WARCRecordBuilder</span><span></span><span>implementations (see #setChain(List)).</span><p><span>This is the default chain:</span><span></span><div class="highlight-text notranslate"><div class="highlight"><pre><span></span>  &lt;property name=&quot;chain&quot;&gt;   &lt;list&gt;    &lt;bean class=&quot;org.archive.modules.warc.DnsResponseRecordBuilder&quot;/&gt;    &lt;bean class=&quot;org.archive.modules.warc.HttpResponseRecordBuilder&quot;/&gt;    &lt;bean class=&quot;org.archive.modules.warc.WhoisResponseRecordBuilder&quot;/&gt;    &lt;bean class=&quot;org.archive.modules.warc.FtpControlConversationRecordBuilder&quot;/&gt;    &lt;bean class=&quot;org.archive.modules.warc.FtpResponseRecordBuilder&quot;/&gt;    &lt;bean class=&quot;org.archive.modules.warc.RevisitRecordBuilder&quot;/&gt;    &lt;bean class=&quot;org.archive.modules.warc.HttpRequestRecordBuilder&quot;/&gt;    &lt;bean class=&quot;org.archive.modules.warc.MetadataRecordBuilder&quot;/&gt;   &lt;/list&gt;  &lt;/property&gt;
</pre></div>
</div>
<p><span></span><span>Replaces WARCWriterProcessor.</span></p>
</p>
</span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;wARCWriterChainProcessor&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.writer.WARCWriterChainProcessor&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;chain&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;compress&quot; value=&quot;true&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;directory&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;frequentFlushes&quot; value=&quot;true&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;maxFileSizeBytes&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;maxTotalBytesToWrite&quot; value=&quot;0&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;maxWaitForIdleMs&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;metadataProvider&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;poolMaxActive&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;prefix&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;recordIDGenerator&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;serverCache&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;skipIdenticalDigests&quot; value=&quot;false&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;startNewFilesOnCheckpoint&quot; value=&quot;true&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;storePaths&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;template&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="w">  </span><span class="cm">&lt;!-- &lt;property name=&quot;writeBufferSize&quot; value=&quot;&quot; /&gt; --&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl>
<dt>chain</dt><dd><strong>(java.util.List&lt;? extends org.archive.modules.warc.WARCRecordBuilder&gt;) </strong><span></span></dd>
<dt>compress</dt><dd><strong>(boolean) </strong><span><span>Whether to gzip-compress files when writing to disk; </span><span></span><span>by default true, meaning do-compress.</span></span></dd>
<dt>directory</dt><dd><strong>(org.archive.spring.ConfigPath) </strong><span></span></dd>
<dt>frequentFlushes</dt><dd><strong>(boolean) </strong><span><span>Whether to flush to underlying file frequently (at least after each </span><span></span><span>record), or not. Default is true.</span></span></dd>
<dt>maxFileSizeBytes</dt><dd><strong>(long) </strong><span><span>Max size of each file.</span></span></dd>
<dt>maxTotalBytesToWrite</dt><dd><strong>(long) </strong><span><span>Total file bytes to write to disk. Once the size of all files on disk has</span><span></span><span>exceeded this limit, this processor will stop the crawler. A value of</span><span></span><span>zero means no upper limit.</span></span></dd>
<dt>maxWaitForIdleMs</dt><dd><strong>(int) </strong><span><span>Maximum time to wait on idle writer before (possibly) creating an</span><span></span><span>additional instance.</span></span></dd>
<dt>metadataProvider</dt><dd><strong>(org.archive.modules.CrawlMetadata) </strong><span></span></dd>
<dt>poolMaxActive</dt><dd><strong>(int) </strong><span><span>Maximum active files in pool. This setting cannot be varied over the life</span><span></span><span>of a crawl.</span></span></dd>
<dt>prefix</dt><dd><strong>(java.lang.String) </strong><span><span>File prefix. The text supplied here will be supplied to the naming </span><span></span><span>template (below) as the ‘prefix’ variable for possible interpolation.</span><span></span><span>In the default/recommended naming formula, the prefix will appear first.</span></span></dd>
<dt>recordIDGenerator</dt><dd><strong>(org.archive.uid.RecordIDGenerator) </strong><span></span></dd>
<dt>serverCache</dt><dd><strong>(org.archive.modules.net.ServerCache) </strong><span></span></dd>
<dt>skipIdenticalDigests</dt><dd><strong>(boolean) </strong><span><span>Whether to skip the writing of a record when URI history information is</span><span></span><span>available and indicates the prior fetch had an identical content digest.</span><span></span><span>Note that subclass settings may provide more fine-grained control on</span><span></span><span>how identical digest content is handled; for those controls to have</span><span></span><span>effect, this setting must not be ‘true’ (causing content to be </span><span></span><span>skipped entirely). </span><span></span><span>Default is false.</span></span></dd>
<dt>startNewFilesOnCheckpoint</dt><dd><strong>(boolean) </strong><span><span>Whether to close output files and start new ones on checkpoint. True by</span><span></span><span>default. If false, merely flushes writers.</span></span></dd>
<dt>storePaths</dt><dd><strong>(java.util.List&lt;org.archive.spring.ConfigPath&gt;) </strong><span><span>Where to save files. Supply absolute or relative directory paths. </span><span></span><span>If relative, paths will be interpreted relative to the local</span><span></span><span>’directory’ property. order.disk-path setting. If more than one</span><span></span><span>path specified, we’ll round-robin dropping files to each. This </span><span></span><span>setting is safe to change midcrawl (You can remove and add new </span><span></span><span>dirs as the crawler progresses).</span></span></dd>
<dt>template</dt><dd><strong>(java.lang.String) </strong><span><span>Template from which a filename is interpolated. Expressions of the</span><span></span><span>form ${key} will be replaced by values from a local map of useful </span><span></span><span>values (including ‘prefix’, ‘timestamp17’, and ‘serialno’) or </span><span></span><span>global system properties (which includes the local hostname/port/pid). </span><p><span>The default template is:</span><p><span>”${prefix}-${timestamp17}-${serialno}-${heritrix.pid}~${heritrix.hostname}~${heritrix.port}”</span><p><span>The default template will generate unique names under reasonable </span><span></span><span>assumptions; be sure you know what you’re doing before customizing,</span><span></span><span>as you could easily create filename collisions with a poorly-designed</span><span></span><span>filename template, and many downstream tools have historically assumed</span><span></span><span>that ARCs/WARCs are carefully named to preserve uniqueness.</span></p>
</p>
</p>
</span></dd>
<dt>writeBufferSize</dt><dd><strong>(int) </strong><span><span>Size of buffer in front of disk-writing. Default is 256K.</span></span></dd>
</dl>
<section id="dnsresponserecordbuilder">
<h4>DnsResponseRecordBuilder<a class="headerlink" href="bean-reference.html#dnsresponserecordbuilder" title="Permalink to this heading"></a></h4>
<p><span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;dnsResponseRecordBuilder&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.warc.DnsResponseRecordBuilder&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl class="simple">
</dl>
</section>
<section id="ftpcontrolconversationrecordbuilder">
<h4>FtpControlConversationRecordBuilder<a class="headerlink" href="bean-reference.html#ftpcontrolconversationrecordbuilder" title="Permalink to this heading"></a></h4>
<p><span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;ftpControlConversationRecordBuilder&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.warc.FtpControlConversationRecordBuilder&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl class="simple">
</dl>
</section>
<section id="ftpresponserecordbuilder">
<h4>FtpResponseRecordBuilder<a class="headerlink" href="bean-reference.html#ftpresponserecordbuilder" title="Permalink to this heading"></a></h4>
<p><span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;ftpResponseRecordBuilder&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.warc.FtpResponseRecordBuilder&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl class="simple">
</dl>
</section>
<section id="httprequestrecordbuilder">
<h4>HttpRequestRecordBuilder<a class="headerlink" href="bean-reference.html#httprequestrecordbuilder" title="Permalink to this heading"></a></h4>
<p><span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;httpRequestRecordBuilder&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.warc.HttpRequestRecordBuilder&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl class="simple">
</dl>
</section>
<section id="httpresponserecordbuilder">
<h4>HttpResponseRecordBuilder<a class="headerlink" href="bean-reference.html#httpresponserecordbuilder" title="Permalink to this heading"></a></h4>
<p><span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;httpResponseRecordBuilder&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.warc.HttpResponseRecordBuilder&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl class="simple">
</dl>
</section>
<section id="metadatarecordbuilder">
<h4>MetadataRecordBuilder<a class="headerlink" href="bean-reference.html#metadatarecordbuilder" title="Permalink to this heading"></a></h4>
<p><span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;metadataRecordBuilder&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.warc.MetadataRecordBuilder&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl class="simple">
</dl>
</section>
<section id="revisitrecordbuilder">
<h4>RevisitRecordBuilder<a class="headerlink" href="bean-reference.html#revisitrecordbuilder" title="Permalink to this heading"></a></h4>
<p><span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;revisitRecordBuilder&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.warc.RevisitRecordBuilder&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl class="simple">
</dl>
</section>
<section id="whoisresponserecordbuilder">
<h4>WhoisResponseRecordBuilder<a class="headerlink" href="bean-reference.html#whoisresponserecordbuilder" title="Permalink to this heading"></a></h4>
<p><span></span></p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;bean</span><span class="w"> </span><span class="na">id=</span><span class="s">&quot;whoisResponseRecordBuilder&quot;</span><span class="w"> </span><span class="na">class=</span><span class="s">&quot;org.archive.modules.warc.WhoisResponseRecordBuilder&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;/bean&gt;</span>
</pre></div>
</div>
<dl class="simple">
</dl>
</section>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="configuring-jobs.html" class="btn btn-neutral float-left" title="Configuring Crawl Jobs" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="api.html" class="btn btn-neutral float-right" title="REST API" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Internet Archive and contributors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>